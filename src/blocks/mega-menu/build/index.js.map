{"version":3,"file":"index.js","mappings":"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","sources":["webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/icon/index.js","webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/library/list-view.js","webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/library/navigation.js","webpack://extra-blocks/./mega-menu/edit/index.js","webpack://extra-blocks/./mega-menu/edit/inner-blocks.js","webpack://extra-blocks/./mega-menu/edit/navigation-menu-delete-control.js","webpack://extra-blocks/./mega-menu/edit/navigation-menu-name-control.js","webpack://extra-blocks/./mega-menu/edit/navigation-menu-selector.js","webpack://extra-blocks/./mega-menu/edit/placeholder/index.js","webpack://extra-blocks/./mega-menu/edit/placeholder/placeholder-preview.js","webpack://extra-blocks/./mega-menu/edit/unsaved-inner-blocks.js","webpack://extra-blocks/./mega-menu/edit/use-convert-classic-menu-to-block-menu.js","webpack://extra-blocks/./mega-menu/edit/use-create-navigation-menu.js","webpack://extra-blocks/./mega-menu/edit/use-generate-default-navigation-title.js","webpack://extra-blocks/./mega-menu/edit/use-list-view-modal.js","webpack://extra-blocks/./mega-menu/edit/use-navigation-notice.js","webpack://extra-blocks/./mega-menu/index.js","webpack://extra-blocks/./mega-menu/menu-items-to-blocks.js","webpack://extra-blocks/./mega-menu/save.js","webpack://extra-blocks/./mega-menu/use-navigation-entities.js","webpack://extra-blocks/./mega-menu/use-navigation-menu.js","webpack://extra-blocks/./mega-menu/use-template-part-area-label.js","webpack://extra-blocks/./node_modules/classnames/index.js","webpack://extra-blocks/./mega-menu/editor.scss?9d13","webpack://extra-blocks/./mega-menu/style.scss?4e52","webpack://extra-blocks/external window \"lodash\"","webpack://extra-blocks/external window [\"wp\",\"a11y\"]","webpack://extra-blocks/external window [\"wp\",\"blockEditor\"]","webpack://extra-blocks/external window [\"wp\",\"blocks\"]","webpack://extra-blocks/external window [\"wp\",\"components\"]","webpack://extra-blocks/external window [\"wp\",\"coreData\"]","webpack://extra-blocks/external window [\"wp\",\"data\"]","webpack://extra-blocks/external window [\"wp\",\"element\"]","webpack://extra-blocks/external window [\"wp\",\"hooks\"]","webpack://extra-blocks/external window [\"wp\",\"htmlEntities\"]","webpack://extra-blocks/external window [\"wp\",\"i18n\"]","webpack://extra-blocks/external window [\"wp\",\"notices\"]","webpack://extra-blocks/external window [\"wp\",\"primitives\"]","webpack://extra-blocks/external window [\"wp\",\"url\"]","webpack://extra-blocks/webpack/bootstrap","webpack://extra-blocks/webpack/runtime/chunk loaded","webpack://extra-blocks/webpack/runtime/compat get default export","webpack://extra-blocks/webpack/runtime/define property getters","webpack://extra-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://extra-blocks/webpack/runtime/make namespace object","webpack://extra-blocks/webpack/runtime/jsonp chunk loading","webpack://extra-blocks/webpack/before-startup","webpack://extra-blocks/webpack/startup","webpack://extra-blocks/webpack/after-startup"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */\n\n/**\n * Return an SVG icon.\n *\n * @param {IconProps} props icon is the SVG component to render\n *                          size is a number specifiying the icon size in pixels\n *                          Other props will be passed to wrapped SVG component\n *\n * @return {JSX.Element}  Icon component\n */\n\nfunction Icon(_ref) {\n  let {\n    icon,\n    size = 24,\n    ...props\n  } = _ref;\n  return cloneElement(icon, {\n    width: size,\n    height: size,\n    ...props\n  });\n}\n\nexport default Icon;\n//# sourceMappingURL=index.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst listView = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z\"\n}));\nexport default listView;\n//# sourceMappingURL=list-view.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst navigation = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z\"\n}));\nexport default navigation;\n//# sourceMappingURL=navigation.js.map","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\nimport { noop } from 'lodash';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tuseState,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tuseCallback,\r\n\tPlatform,\r\n} from '@wordpress/element';\r\nimport {\r\n\tInspectorControls,\r\n\tBlockControls,\r\n\tuseBlockProps,\r\n\t__experimentalUseNoRecursiveRenders as useNoRecursiveRenders,\r\n\tstore as blockEditorStore,\r\n\twithColors,\r\n\tPanelColorSettings,\r\n\tContrastChecker,\r\n\tgetColorClassName,\r\n\tWarning,\r\n} from '@wordpress/block-editor';\r\nimport { EntityProvider, useEntityProp } from '@wordpress/core-data';\r\n\r\nimport { useDispatch, useSelect, useRegistry } from '@wordpress/data';\r\nimport {\r\n\tPanelBody,\r\n\tToggleControl,\r\n\tToolbarGroup,\r\n\tButton,\r\n\tSpinner,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { speak } from '@wordpress/a11y';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useListViewModal from './use-list-view-modal';\r\nimport useNavigationMenu from '../use-navigation-menu';\r\nimport useNavigationEntities from '../use-navigation-entities';\r\nimport Placeholder from './placeholder';\r\nimport NavigationInnerBlocks from './inner-blocks';\r\nimport NavigationMenuSelector from './navigation-menu-selector';\r\nimport NavigationMenuNameControl from './navigation-menu-name-control';\r\nimport UnsavedInnerBlocks from './unsaved-inner-blocks';\r\nimport NavigationMenuDeleteControl from './navigation-menu-delete-control';\r\nimport useNavigationNotice from './use-navigation-notice';\r\nimport useConvertClassicToBlockMenu, {\r\n\tCLASSIC_MENU_CONVERSION_ERROR,\r\n\tCLASSIC_MENU_CONVERSION_PENDING,\r\n\tCLASSIC_MENU_CONVERSION_SUCCESS,\r\n} from './use-convert-classic-menu-to-block-menu';\r\nimport useCreateNavigationMenu, {\r\n\tCREATE_NAVIGATION_MENU_ERROR,\r\n\tCREATE_NAVIGATION_MENU_PENDING,\r\n\tCREATE_NAVIGATION_MENU_SUCCESS,\r\n} from './use-create-navigation-menu';\r\n\r\nconst EMPTY_ARRAY = [];\r\n\r\nfunction getComputedStyle(node) {\r\n\treturn node.ownerDocument.defaultView.getComputedStyle(node);\r\n}\r\n\r\nfunction detectColors(colorsDetectionElement, setColor, setBackground) {\r\n\tif (!colorsDetectionElement) {\r\n\t\treturn;\r\n\t}\r\n\tsetColor(getComputedStyle(colorsDetectionElement).color);\r\n\r\n\tlet backgroundColorNode = colorsDetectionElement;\r\n\tlet backgroundColor = getComputedStyle(backgroundColorNode)\r\n\t\t.backgroundColor;\r\n\twhile (\r\n\t\tbackgroundColor === 'rgba(0, 0, 0, 0)' &&\r\n\t\tbackgroundColorNode.parentNode &&\r\n\t\tbackgroundColorNode.parentNode.nodeType ===\r\n\t\tbackgroundColorNode.parentNode.ELEMENT_NODE\r\n\t) {\r\n\t\tbackgroundColorNode = backgroundColorNode.parentNode;\r\n\t\tbackgroundColor = getComputedStyle(backgroundColorNode)\r\n\t\t\t.backgroundColor;\r\n\t}\r\n\r\n\tsetBackground(backgroundColor);\r\n}\r\n\r\nfunction Navigation({\r\n\tattributes,\r\n\tsetAttributes,\r\n\tclientId,\r\n\tisSelected,\r\n\tclassName,\r\n\tbackgroundColor,\r\n\tsetBackgroundColor,\r\n\ttextColor,\r\n\tsetTextColor,\r\n\tcontext: { navigationArea },\r\n\r\n\t// These props are used by the navigation editor to override specific\r\n\t// navigation block settings.\r\n\thasSubmenuIndicatorSetting = true,\r\n\thasColorSettings = true,\r\n\tcustomPlaceholder: CustomPlaceholder = null,\r\n}) {\r\n\tconst {\r\n\t\topenSubmenusOnClick,\r\n\t\tshowSubmenuIcon,\r\n\t\tlayout: {\r\n\t\t\tjustifyContent,\r\n\t\t\torientation = 'horizontal',\r\n\t\t\tflexWrap = 'wrap',\r\n\t\t} = {},\r\n\t\thasIcon,\r\n\t} = attributes;\r\n\r\n\tlet areaMenu,\r\n\t\tsetAreaMenu = noop;\r\n\t[areaMenu, setAreaMenu] = useEntityProp(\r\n\t\t'root',\r\n\t\t'navigationArea',\r\n\t\t'navigation',\r\n\t\tnavigationArea\r\n\t);\r\n\tconst navigationAreaMenu = areaMenu === 0 ? undefined : areaMenu;\r\n\r\n\tconst ref = navigationArea ? navigationAreaMenu : attributes.ref;\r\n\r\n\tconst registry = useRegistry();\r\n\tconst setRef = useCallback(\r\n\t\t(postId) => {\r\n\t\t\tsetAttributes({ ref: postId });\r\n\t\t\tif (navigationArea) {\r\n\t\t\t\tsetAreaMenu(postId);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[navigationArea]\r\n\t);\r\n\r\n\tconst [hasAlreadyRendered, RecursionProvider] = useNoRecursiveRenders(\r\n\t\t`navigationMenu/${ref}`\r\n\t);\r\n\r\n\t// Preload classic menus, so that they don't suddenly pop-in when viewing\r\n\t// the Select Menu dropdown.\r\n\tuseNavigationEntities();\r\n\r\n\tconst [\r\n\t\tshowNavigationMenuCreateNotice,\r\n\t\thideNavigationMenuCreateNotice,\r\n\t] = useNavigationNotice({\r\n\t\tname: 'block-library/kemet/mega-menu/create',\r\n\t});\r\n\r\n\tconst {\r\n\t\tcreate: createNavigationMenu,\r\n\t\tstatus: createNavigationMenuStatus,\r\n\t\terror: createNavigationMenuError,\r\n\t\tvalue: createNavigationMenuPost,\r\n\t} = useCreateNavigationMenu(clientId);\r\n\r\n\tconst isCreatingNavigationMenu =\r\n\t\tcreateNavigationMenuStatus === CREATE_NAVIGATION_MENU_PENDING;\r\n\r\n\tuseEffect(() => {\r\n\t\thideNavigationMenuCreateNotice();\r\n\r\n\t\tif (createNavigationMenuStatus === CREATE_NAVIGATION_MENU_PENDING) {\r\n\t\t\tspeak(__(`Creating Navigation Menu.`));\r\n\t\t}\r\n\r\n\t\tif (createNavigationMenuStatus === CREATE_NAVIGATION_MENU_SUCCESS) {\r\n\t\t\tsetRef(createNavigationMenuPost.id);\r\n\t\t\tselectBlock(clientId);\r\n\r\n\t\t\tshowNavigationMenuCreateNotice(\r\n\t\t\t\t__(`Navigation Menu successfully created.`)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (createNavigationMenuStatus === CREATE_NAVIGATION_MENU_ERROR) {\r\n\t\t\tshowNavigationMenuCreateNotice(\r\n\t\t\t\t__('Failed to create Navigation Menu.')\r\n\t\t\t);\r\n\t\t}\r\n\t}, [\r\n\t\tcreateNavigationMenu,\r\n\t\tcreateNavigationMenuStatus,\r\n\t\tcreateNavigationMenuError,\r\n\t\tcreateNavigationMenuPost,\r\n\t]);\r\n\r\n\tconst {\r\n\t\thasUncontrolledInnerBlocks,\r\n\t\tuncontrolledInnerBlocks,\r\n\t\tisInnerBlockSelected,\r\n\t\thasSubmenus,\r\n\t} = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst { getBlock, getBlocks, hasSelectedInnerBlock } = select(\r\n\t\t\t\tblockEditorStore\r\n\t\t\t);\r\n\r\n\t\t\t// This relies on the fact that `getBlock` won't return controlled\r\n\t\t\t// inner blocks, while `getBlocks` does. It might be more stable to\r\n\t\t\t// introduce a selector like `getUncontrolledInnerBlocks`, just in\r\n\t\t\t// case `getBlock` is fixed.\r\n\t\t\tconst _uncontrolledInnerBlocks = getBlock(clientId).innerBlocks;\r\n\t\t\tconst _hasUncontrolledInnerBlocks = !!_uncontrolledInnerBlocks?.length;\r\n\t\t\tconst _controlledInnerBlocks = _hasUncontrolledInnerBlocks\r\n\t\t\t\t? EMPTY_ARRAY\r\n\t\t\t\t: getBlocks(clientId);\r\n\t\t\tconst innerBlocks = _hasUncontrolledInnerBlocks\r\n\t\t\t\t? _uncontrolledInnerBlocks\r\n\t\t\t\t: _controlledInnerBlocks;\r\n\r\n\t\t\treturn {\r\n\t\t\t\thasSubmenus: !!innerBlocks.find(\r\n\t\t\t\t\t(block) => block.name === 'kemet/navigation-submenu'\r\n\t\t\t\t),\r\n\t\t\t\thasUncontrolledInnerBlocks: _hasUncontrolledInnerBlocks,\r\n\t\t\t\tuncontrolledInnerBlocks: _uncontrolledInnerBlocks,\r\n\t\t\t\tisInnerBlockSelected: hasSelectedInnerBlock(clientId, true),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[clientId]\r\n\t);\r\n\tconst {\r\n\t\treplaceInnerBlocks,\r\n\t\tselectBlock,\r\n\t\t__unstableMarkNextChangeAsNotPersistent,\r\n\t} = useDispatch(blockEditorStore);\r\n\r\n\tconst [\r\n\t\thasSavedUnsavedInnerBlocks,\r\n\t\tsetHasSavedUnsavedInnerBlocks,\r\n\t] = useState(false);\r\n\r\n\tconst isWithinUnassignedArea = !!navigationArea && !ref;\r\n\r\n\r\n\tconst {\r\n\t\tisNavigationMenuResolved,\r\n\t\tisNavigationMenuMissing,\r\n\t\tnavigationMenus,\r\n\t\tnavigationMenu,\r\n\t\tcanUserUpdateNavigationMenu,\r\n\t\thasResolvedCanUserUpdateNavigationMenu,\r\n\t\tcanUserDeleteNavigationMenu,\r\n\t\thasResolvedCanUserDeleteNavigationMenu,\r\n\t\tcanUserCreateNavigationMenu,\r\n\t\tisResolvingCanUserCreateNavigationMenu,\r\n\t\thasResolvedCanUserCreateNavigationMenu,\r\n\t} = useNavigationMenu(ref);\r\n\r\n\tconst navRef = useRef();\r\n\tconst isDraftNavigationMenu = navigationMenu?.status === 'draft';\r\n\r\n\tconst { listViewToolbarButton, listViewModal } = useListViewModal(\r\n\t\tclientId\r\n\t);\r\n\r\n\tconst {\r\n\t\tconvert,\r\n\t\tstatus: classicMenuConversionStatus,\r\n\t\terror: classicMenuConversionError,\r\n\t\tvalue: classicMenuConversionResult,\r\n\t} = useConvertClassicToBlockMenu(clientId);\r\n\r\n\tconst isConvertingClassicMenu =\r\n\t\tclassicMenuConversionStatus === CLASSIC_MENU_CONVERSION_PENDING;\r\n\r\n\t// The standard HTML5 tag for the block wrapper.\r\n\tconst TagName = 'nav';\r\n\r\n\t// \"placeholder\" shown if:\r\n\t// - there is no ref attribute pointing to a Navigation Post.\r\n\t// - there is no classic menu conversion process in progress.\r\n\t// - there is no menu creation process in progress.\r\n\t// - there are no uncontrolled blocks.\r\n\t// - (legacy) there is a Navigation Area without a ref attribute pointing to a Navigation Post.\r\n\tconst isPlaceholder =\r\n\t\t!ref &&\r\n\t\t!isCreatingNavigationMenu &&\r\n\t\t!isConvertingClassicMenu &&\r\n\t\t(!hasUncontrolledInnerBlocks || isWithinUnassignedArea);\r\n\r\n\tconst isEntityAvailable =\r\n\t\t!isNavigationMenuMissing && isNavigationMenuResolved;\r\n\r\n\t// \"loading\" state:\r\n\t// - there is a menu creation process in progress.\r\n\t// - there is a classic menu conversion process in progress.\r\n\t// OR\r\n\t// - there is a ref attribute pointing to a Navigation Post\r\n\t// - the Navigation Post isn't available (hasn't resolved) yet.\r\n\tconst isLoading =\r\n\t\tisCreatingNavigationMenu ||\r\n\t\tisConvertingClassicMenu ||\r\n\t\t!!(ref && !isEntityAvailable && !isConvertingClassicMenu);\r\n\r\n\tconst blockProps = useBlockProps({\r\n\t\tref: navRef,\r\n\t\tclassName: classnames(className, {\r\n\t\t\t'items-justified-right': justifyContent === 'right',\r\n\t\t\t'items-justified-space-between': justifyContent === 'space-between',\r\n\t\t\t'items-justified-left': justifyContent === 'left',\r\n\t\t\t'items-justified-center': justifyContent === 'center',\r\n\t\t\t'is-vertical': orientation === 'vertical',\r\n\t\t\t'no-wrap': flexWrap === 'nowrap',\r\n\t\t\t'has-text-color': !!textColor.color || !!textColor?.class,\r\n\t\t\t[getColorClassName(\r\n\t\t\t\t'color',\r\n\t\t\t\ttextColor?.slug\r\n\t\t\t)]: !!textColor?.slug,\r\n\t\t\t'has-background': !!backgroundColor.color || backgroundColor.class,\r\n\t\t\t[getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tbackgroundColor?.slug\r\n\t\t\t)]: !!backgroundColor?.slug,\r\n\t\t}),\r\n\t\tstyle: {\r\n\t\t\tcolor: !textColor?.slug && textColor?.color,\r\n\t\t\tbackgroundColor: !backgroundColor?.slug && backgroundColor?.color,\r\n\t\t},\r\n\t});\r\n\r\n\r\n\t// Turn on contrast checker for web only since it's not supported on mobile yet.\r\n\tconst enableContrastChecking = Platform.OS === 'web';\r\n\r\n\tconst [detectedBackgroundColor, setDetectedBackgroundColor] = useState();\r\n\tconst [detectedColor, setDetectedColor] = useState();\r\n\r\n\tconst [\r\n\t\tshowClassicMenuConversionErrorNotice,\r\n\t\thideClassicMenuConversionErrorNotice,\r\n\t] = useNavigationNotice({\r\n\t\tname: 'block-library/kemet/mega-menu/classic-menu-conversion/error',\r\n\t});\r\n\r\n\tfunction handleUpdateMenu(menuId) {\r\n\t\tsetRef(menuId);\r\n\t\tselectBlock(clientId);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (classicMenuConversionStatus === CLASSIC_MENU_CONVERSION_PENDING) {\r\n\t\t\tspeak(__('Classic menu importing.'));\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tclassicMenuConversionStatus === CLASSIC_MENU_CONVERSION_SUCCESS &&\r\n\t\t\tclassicMenuConversionResult\r\n\t\t) {\r\n\t\t\thandleUpdateMenu(classicMenuConversionResult?.id);\r\n\t\t\thideClassicMenuConversionErrorNotice();\r\n\t\t\tspeak(__('Classic menu imported successfully.'));\r\n\t\t}\r\n\r\n\t\tif (classicMenuConversionStatus === CLASSIC_MENU_CONVERSION_ERROR) {\r\n\t\t\tshowClassicMenuConversionErrorNotice(classicMenuConversionError);\r\n\t\t\tspeak(__('Classic menu import failed.'));\r\n\t\t}\r\n\t}, [\r\n\t\tclassicMenuConversionStatus,\r\n\t\tclassicMenuConversionResult,\r\n\t\tclassicMenuConversionError,\r\n\t]);\r\n\r\n\t// Spacer block needs orientation from context. This is a patch until\r\n\t// https://github.com/WordPress/gutenberg/issues/36197 is addressed.\r\n\tuseEffect(() => {\r\n\t\tif (orientation) {\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\tsetAttributes({ orientation });\r\n\t\t}\r\n\t}, [orientation]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!enableContrastChecking) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdetectColors(\r\n\t\t\tnavRef.current,\r\n\t\t\tsetDetectedColor,\r\n\t\t\tsetDetectedBackgroundColor\r\n\t\t);\r\n\t\tconst subMenuElement = navRef.current?.querySelector(\r\n\t\t\t'[data-type=\"kemet/navigation-link\"] [data-type=\"kemet/navigation-link\"]'\r\n\t\t);\r\n\t\tif (subMenuElement) {\r\n\t\t\tdetectColors(\r\n\t\t\t\tsubMenuElement,\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\tconst [showCantEditNotice, hideCantEditNotice] = useNavigationNotice({\r\n\t\tname: 'block-library/kemet/mega-menu/permissions/update',\r\n\t\tmessage: __(\r\n\t\t\t'You do not have permission to edit this Menu. Any changes made will not be saved.'\r\n\t\t),\r\n\t});\r\n\r\n\tconst [showCantCreateNotice, hideCantCreateNotice] = useNavigationNotice(\r\n\t\t{\r\n\t\t\tname: 'block-library/kemet/mega-menu/permissions/create',\r\n\t\t\tmessage: __(\r\n\t\t\t\t'You do not have permission to create Navigation Menus.'\r\n\t\t\t),\r\n\t\t}\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isSelected && !isInnerBlockSelected) {\r\n\t\t\thideCantEditNotice();\r\n\t\t\thideCantCreateNotice();\r\n\t\t}\r\n\r\n\t\tif (isSelected || isInnerBlockSelected) {\r\n\t\t\tif (\r\n\t\t\t\thasResolvedCanUserUpdateNavigationMenu &&\r\n\t\t\t\t!canUserUpdateNavigationMenu\r\n\t\t\t) {\r\n\t\t\t\tshowCantEditNotice();\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\t!ref &&\r\n\t\t\t\thasResolvedCanUserCreateNavigationMenu &&\r\n\t\t\t\t!canUserCreateNavigationMenu\r\n\t\t\t) {\r\n\t\t\t\tshowCantCreateNotice();\r\n\t\t\t}\r\n\t\t}\r\n\t}, [\r\n\t\tisSelected,\r\n\t\tisInnerBlockSelected,\r\n\t\tcanUserUpdateNavigationMenu,\r\n\t\thasResolvedCanUserUpdateNavigationMenu,\r\n\t\tcanUserCreateNavigationMenu,\r\n\t\thasResolvedCanUserCreateNavigationMenu,\r\n\t\tref,\r\n\t]);\r\n\r\n\tconst handleSelectNavigation = useCallback(\r\n\t\t(navPostOrClassicMenu) => {\r\n\t\t\tif (!navPostOrClassicMenu) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst isClassicMenu = navPostOrClassicMenu.hasOwnProperty(\r\n\t\t\t\t'auto_add'\r\n\t\t\t);\r\n\r\n\t\t\tif (isClassicMenu) {\r\n\t\t\t\tconvert(navPostOrClassicMenu.id, navPostOrClassicMenu.name);\r\n\t\t\t} else {\r\n\t\t\t\thandleUpdateMenu(navPostOrClassicMenu.id);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[convert, handleUpdateMenu]\r\n\t);\r\n\r\n\tconst resetToEmptyBlock = useCallback(() => {\r\n\t\tregistry.batch(() => {\r\n\t\t\tif (navigationArea) {\r\n\t\t\t\tsetAreaMenu(0);\r\n\t\t\t}\r\n\t\t\tsetAttributes({\r\n\t\t\t\tref: undefined,\r\n\t\t\t});\r\n\t\t\tif (!ref) {\r\n\t\t\t\treplaceInnerBlocks(clientId, []);\r\n\t\t\t}\r\n\t\t});\r\n\t}, [clientId, ref]);\r\n\r\n\t// If the block has inner blocks, but no menu id, this was an older\r\n\t// navigation block added before the block used a wp_navigation entity.\r\n\t// Either this block was saved in the content or inserted by a pattern.\r\n\t// Consider this 'unsaved'. Offer an uncontrolled version of inner blocks,\r\n\t// that automatically saves the menu.\r\n\tconst hasUnsavedBlocks = hasUncontrolledInnerBlocks && !isEntityAvailable;\r\n\tif (hasUnsavedBlocks) {\r\n\t\treturn (\r\n\t\t\t<TagName {...blockProps}>\r\n\t\t\t\t<UnsavedInnerBlocks\r\n\t\t\t\t\tblockProps={blockProps}\r\n\t\t\t\t\tblocks={uncontrolledInnerBlocks}\r\n\t\t\t\t\tclientId={clientId}\r\n\t\t\t\t\tnavigationMenus={navigationMenus}\r\n\t\t\t\t\thasSelection={isSelected || isInnerBlockSelected}\r\n\t\t\t\t\thasSavedUnsavedInnerBlocks={\r\n\t\t\t\t\t\thasSavedUnsavedInnerBlocks\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonSave={(post) => {\r\n\t\t\t\t\t\t// Set some state used as a guard to prevent the creation of multiple posts.\r\n\t\t\t\t\t\tsetHasSavedUnsavedInnerBlocks(true);\r\n\t\t\t\t\t\t// Switch to using the wp_navigation entity.\r\n\t\t\t\t\t\tsetRef(post.id);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</TagName>\r\n\t\t);\r\n\t}\r\n\r\n\t// Show a warning if the selected menu is no longer available.\r\n\t// TODO - the user should be able to select a new one?\r\n\tif (ref && isNavigationMenuMissing) {\r\n\t\treturn (\r\n\t\t\t<div {...blockProps}>\r\n\t\t\t\t<Warning>\r\n\t\t\t\t\t{__(\r\n\t\t\t\t\t\t'Navigation menu has been deleted or is unavailable. '\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Button onClick={resetToEmptyBlock} variant=\"link\">\r\n\t\t\t\t\t\t{__('Create a new menu?')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Warning>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (isEntityAvailable && hasAlreadyRendered) {\r\n\t\treturn (\r\n\t\t\t<div {...blockProps}>\r\n\t\t\t\t<Warning>\r\n\t\t\t\t\t{__('Block cannot be rendered inside itself.')}\r\n\t\t\t\t</Warning>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tconst PlaceholderComponent = CustomPlaceholder\r\n\t\t? CustomPlaceholder\r\n\t\t: Placeholder;\r\n\r\n\tif (isPlaceholder) {\r\n\t\treturn (\r\n\t\t\t<TagName {...blockProps}>\r\n\t\t\t\t<PlaceholderComponent\r\n\t\t\t\t\tisSelected={isSelected}\r\n\t\t\t\t\tcurrentMenuId={ref}\r\n\t\t\t\t\tclientId={clientId}\r\n\t\t\t\t\tcanUserCreateNavigationMenu={canUserCreateNavigationMenu}\r\n\t\t\t\t\tisResolvingCanUserCreateNavigationMenu={\r\n\t\t\t\t\t\tisResolvingCanUserCreateNavigationMenu\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFinish={handleSelectNavigation}\r\n\t\t\t\t\tonCreateEmpty={() => createNavigationMenu('', [])}\r\n\t\t\t\t/>\r\n\t\t\t</TagName>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<EntityProvider kind=\"postType\" type=\"wp_navigation\" id={ref}>\r\n\t\t\t<RecursionProvider>\r\n\t\t\t\t<BlockControls>\r\n\t\t\t\t\t{!isDraftNavigationMenu && isEntityAvailable && (\r\n\t\t\t\t\t\t<ToolbarGroup className=\"wp-block-navigation__toolbar-menu-selector\">\r\n\t\t\t\t\t\t\t<NavigationMenuSelector\r\n\t\t\t\t\t\t\t\tcurrentMenuId={ref}\r\n\t\t\t\t\t\t\t\tclientId={clientId}\r\n\t\t\t\t\t\t\t\tonSelect={handleSelectNavigation}\r\n\t\t\t\t\t\t\t\tonCreateNew={resetToEmptyBlock}\r\n\t\t\t\t\t\t\t\t/* translators: %s: The name of a menu. */\r\n\t\t\t\t\t\t\t\tactionLabel={__(\"Switch to '%s'\")}\r\n\t\t\t\t\t\t\t\tshowManageActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ToolbarGroup>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<ToolbarGroup>{listViewToolbarButton}</ToolbarGroup>\r\n\t\t\t\t</BlockControls>\r\n\t\t\t\t{listViewModal}\r\n\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t{hasSubmenuIndicatorSetting && (\r\n\t\t\t\t\t\t<PanelBody title={__('Display')}>\r\n\t\t\t\t\t\t\t{hasSubmenus && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<h3>{__('Submenus')}</h3>\r\n\t\t\t\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t\t\t\tchecked={openSubmenusOnClick}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(value) => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes({\r\n\t\t\t\t\t\t\t\t\t\t\t\topenSubmenusOnClick: value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t...(value && {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowSubmenuIcon: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}), // Make sure arrows are shown when we toggle this on.\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tlabel={__('Open on click')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t\t\t\tchecked={showSubmenuIcon}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(value) => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes({\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowSubmenuIcon: value,\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\tattributes.openSubmenusOnClick\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlabel={__('Show arrow')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<PanelBody title={__('Mega Menu Settings')}>\r\n\r\n\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t{hasColorSettings && (\r\n\t\t\t\t\t\t<PanelColorSettings\r\n\t\t\t\t\t\t\t__experimentalHasMultipleOrigins\r\n\t\t\t\t\t\t\t__experimentalIsRenderedInSidebar\r\n\t\t\t\t\t\t\ttitle={__('Color')}\r\n\t\t\t\t\t\t\tinitialOpen={false}\r\n\t\t\t\t\t\t\tcolorSettings={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tvalue: textColor.color,\r\n\t\t\t\t\t\t\t\t\tonChange: setTextColor,\r\n\t\t\t\t\t\t\t\t\tlabel: __('Text'),\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tvalue: backgroundColor.color,\r\n\t\t\t\t\t\t\t\t\tonChange: setBackgroundColor,\r\n\t\t\t\t\t\t\t\t\tlabel: __('Background'),\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{enableContrastChecking && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<ContrastChecker\r\n\t\t\t\t\t\t\t\t\t\tbackgroundColor={\r\n\t\t\t\t\t\t\t\t\t\t\tdetectedBackgroundColor\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttextColor={detectedColor}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</PanelColorSettings>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</InspectorControls>\r\n\t\t\t\t{isEntityAvailable && (\r\n\t\t\t\t\t<InspectorControls __experimentalGroup=\"advanced\">\r\n\t\t\t\t\t\t{hasResolvedCanUserUpdateNavigationMenu &&\r\n\t\t\t\t\t\t\tcanUserUpdateNavigationMenu && (\r\n\t\t\t\t\t\t\t\t<NavigationMenuNameControl />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{hasResolvedCanUserDeleteNavigationMenu &&\r\n\t\t\t\t\t\t\tcanUserDeleteNavigationMenu && (\r\n\t\t\t\t\t\t\t\t<NavigationMenuDeleteControl\r\n\t\t\t\t\t\t\t\t\tonDelete={resetToEmptyBlock}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t</InspectorControls>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{isLoading && (\r\n\t\t\t\t\t<TagName {...blockProps}>\r\n\t\t\t\t\t\t<Spinner className=\"wp-block-navigation__loading-indicator\" />\r\n\t\t\t\t\t</TagName>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{!isLoading && (\r\n\t\t\t\t\t<TagName {...blockProps}>\r\n\t\t\t\t\t\t{isEntityAvailable && (\r\n\t\t\t\t\t\t\t<NavigationInnerBlocks\r\n\t\t\t\t\t\t\t\tclientId={clientId}\r\n\t\t\t\t\t\t\t\thasCustomPlaceholder={\r\n\t\t\t\t\t\t\t\t\t!!CustomPlaceholder\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\torientation={orientation}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</TagName>\r\n\t\t\t\t)}\r\n\t\t\t</RecursionProvider>\r\n\t\t</EntityProvider>\r\n\t);\r\n}\r\n\r\nexport default withColors(\r\n\t{ textColor: 'color' },\r\n\t{ backgroundColor: 'color' },\r\n)(Navigation);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityBlockEditor } from '@wordpress/core-data';\r\nimport {\r\n\tuseInnerBlocksProps,\r\n\tInnerBlocks,\r\n\t__experimentalBlockContentOverlay as BlockContentOverlay,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport PlaceholderPreview from './placeholder/placeholder-preview';\r\n\r\nconst ALLOWED_BLOCKS = [\r\n\t'kemet/navigation-link',\r\n\t'core/search',\r\n\t'core/social-links',\r\n\t'kemet/page-list',\r\n\t'core/spacer',\r\n\t'core/home-link',\r\n\t'core/site-title',\r\n\t'core/site-logo',\r\n\t'kemet/navigation-submenu',\r\n];\r\n\r\nconst DEFAULT_BLOCK = {\r\n\tname: 'kemet/navigation-link',\r\n};\r\n\r\nconst LAYOUT = {\r\n\ttype: 'default',\r\n\talignments: [],\r\n};\r\n\r\nexport default function NavigationInnerBlocks({\r\n\tclientId,\r\n\thasCustomPlaceholder,\r\n\torientation,\r\n}) {\r\n\tconst {\r\n\t\tisImmediateParentOfSelectedBlock,\r\n\t\tselectedBlockHasDescendants,\r\n\t\tisSelected,\r\n\t} = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst {\r\n\t\t\t\tgetClientIdsOfDescendants,\r\n\t\t\t\thasSelectedInnerBlock,\r\n\t\t\t\tgetSelectedBlockClientId,\r\n\t\t\t} = select(blockEditorStore);\r\n\t\t\tconst selectedBlockId = getSelectedBlockClientId();\r\n\r\n\t\t\treturn {\r\n\t\t\t\tisImmediateParentOfSelectedBlock: hasSelectedInnerBlock(\r\n\t\t\t\t\tclientId,\r\n\t\t\t\t\tfalse\r\n\t\t\t\t),\r\n\t\t\t\tselectedBlockHasDescendants: !!getClientIdsOfDescendants([\r\n\t\t\t\t\tselectedBlockId,\r\n\t\t\t\t])?.length,\r\n\r\n\t\t\t\t// This prop is already available but computing it here ensures it's\r\n\t\t\t\t// fresh compared to isImmediateParentOfSelectedBlock.\r\n\t\t\t\tisSelected: selectedBlockId === clientId,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[clientId]\r\n\t);\r\n\r\n\tconst [blocks, onInput, onChange] = useEntityBlockEditor(\r\n\t\t'postType',\r\n\t\t'wp_navigation'\r\n\t);\r\n\r\n\tconst shouldDirectInsert = useMemo(\r\n\t\t() =>\r\n\t\t\tblocks.every(\r\n\t\t\t\t({ name }) =>\r\n\t\t\t\t\tname === 'kemet/navigation-link' ||\r\n\t\t\t\t\tname === 'kemet/navigation-submenu' ||\r\n\t\t\t\t\tname === 'kemet/page-list'\r\n\t\t\t),\r\n\t\t[blocks]\r\n\t);\r\n\r\n\t// When the block is selected itself or has a top level item selected that\r\n\t// doesn't itself have children, show the standard appender. Else show no\r\n\t// appender.\r\n\tconst parentOrChildHasSelection =\r\n\t\tisSelected ||\r\n\t\t(isImmediateParentOfSelectedBlock && !selectedBlockHasDescendants);\r\n\r\n\tconst placeholder = useMemo(() => <PlaceholderPreview />, []);\r\n\r\n\tconst hasMenuItems = !!blocks?.length;\r\n\r\n\t// If there is a `ref` attribute pointing to a `wp_navigation` but\r\n\t// that menu has no **items** (i.e. empty) then show a placeholder.\r\n\t// The block must also be selected else the placeholder will display\r\n\t// alongside the appender.\r\n\tconst showPlaceholder =\r\n\t\t!hasCustomPlaceholder && !hasMenuItems && !isSelected;\r\n\r\n\tconst innerBlocksProps = useInnerBlocksProps(\r\n\t\t{\r\n\t\t\tclassName: 'wp-block-navigation__container',\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: blocks,\r\n\t\t\tonInput,\r\n\t\t\tonChange,\r\n\t\t\tallowedBlocks: ALLOWED_BLOCKS,\r\n\t\t\t__experimentalDefaultBlock: DEFAULT_BLOCK,\r\n\t\t\t__experimentalDirectInsert: shouldDirectInsert,\r\n\t\t\torientation,\r\n\r\n\t\t\t// As an exception to other blocks which feature nesting, show\r\n\t\t\t// the block appender even when a child block is selected.\r\n\t\t\t// This should be a temporary fix, to be replaced by improvements to\r\n\t\t\t// the sibling inserter.\r\n\t\t\t// See https://github.com/WordPress/gutenberg/issues/37572.\r\n\t\t\trenderAppender:\r\n\t\t\t\tisSelected ||\r\n\t\t\t\t\t(isImmediateParentOfSelectedBlock &&\r\n\t\t\t\t\t\t!selectedBlockHasDescendants) ||\r\n\t\t\t\t\t// Show the appender while dragging to allow inserting element between item and the appender.\r\n\t\t\t\t\tparentOrChildHasSelection\r\n\t\t\t\t\t? InnerBlocks.ButtonBlockAppender\r\n\t\t\t\t\t: false,\r\n\r\n\t\t\t// Template lock set to false here so that the Nav\r\n\t\t\t// Block on the experimental menus screen does not\r\n\t\t\t// inherit templateLock={ 'all' }.\r\n\t\t\ttemplateLock: false,\r\n\t\t\t__experimentalLayout: LAYOUT,\r\n\t\t\tplaceholder: showPlaceholder ? placeholder : undefined,\r\n\t\t}\r\n\t);\r\n\r\n\treturn (\r\n\t\t<BlockContentOverlay\r\n\t\t\tclientId={clientId}\r\n\t\t\ttagName={'div'}\r\n\t\t\twrapperProps={innerBlocksProps}\r\n\t\t/>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Button, Flex, FlexItem, Modal } from '@wordpress/components';\r\nimport {\r\n\tstore as coreStore,\r\n\tuseEntityId,\r\n\tuseEntityProp,\r\n} from '@wordpress/core-data';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { useState } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\nexport default function NavigationMenuDeleteControl( { onDelete } ) {\r\n\tconst [ isConfirmModalVisible, setIsConfirmModalVisible ] = useState(\r\n\t\tfalse\r\n\t);\r\n\tconst id = useEntityId( 'postType', 'wp_navigation' );\r\n\tconst [ title ] = useEntityProp( 'postType', 'wp_navigation', 'title' );\r\n\tconst { deleteEntityRecord } = useDispatch( coreStore );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tclassName=\"wp-block-navigation-delete-menu-button\"\r\n\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\tisDestructive\r\n\t\t\t\tonClick={ () => {\r\n\t\t\t\t\tsetIsConfirmModalVisible( true );\r\n\t\t\t\t} }\r\n\t\t\t>\r\n\t\t\t\t{ __( 'Delete menu' ) }\r\n\t\t\t</Button>\r\n\t\t\t{ isConfirmModalVisible && (\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={ sprintf(\r\n\t\t\t\t\t\t/* translators: %s: the name of a menu to delete */\r\n\t\t\t\t\t\t__( 'Delete %s' ),\r\n\t\t\t\t\t\ttitle\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tcloseLabel={ __( 'Cancel' ) }\r\n\t\t\t\t\tonRequestClose={ () => setIsConfirmModalVisible( false ) }\r\n\t\t\t\t>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t\t'Are you sure you want to delete this navigation menu?'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<Flex justify=\"flex-end\">\r\n\t\t\t\t\t\t<FlexItem>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\tsetIsConfirmModalVisible( false );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</FlexItem>\r\n\t\t\t\t\t\t<FlexItem>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\tdeleteEntityRecord(\r\n\t\t\t\t\t\t\t\t\t\t'postType',\r\n\t\t\t\t\t\t\t\t\t\t'wp_navigation',\r\n\t\t\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t\t\t{ force: true }\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\tonDelete();\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Confirm' ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</FlexItem>\r\n\t\t\t\t\t</Flex>\r\n\t\t\t\t</Modal>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { TextControl } from '@wordpress/components';\r\nimport { useEntityProp } from '@wordpress/core-data';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport default function NavigationMenuNameControl() {\r\n\tconst [ title, updateTitle ] = useEntityProp(\r\n\t\t'postType',\r\n\t\t'wp_navigation',\r\n\t\t'title'\r\n\t);\r\n\r\n\treturn (\r\n\t\t<TextControl\r\n\t\t\tlabel={ __( 'Menu name' ) }\r\n\t\t\tvalue={ title }\r\n\t\t\tonChange={ updateTitle }\r\n\t\t/>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tMenuGroup,\r\n\tMenuItem,\r\n\tMenuItemsChoice,\r\n\tToolbarDropdownMenu,\r\n} from '@wordpress/components';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { addQueryArgs } from '@wordpress/url';\r\nimport { useCallback, useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useNavigationMenu from '../use-navigation-menu';\r\nimport useNavigationEntities from '../use-navigation-entities';\r\n\r\nexport default function NavigationMenuSelector({\r\n\tcurrentMenuId,\r\n\tonSelect,\r\n\tonCreateNew,\r\n\tshowManageActions = false,\r\n\tactionLabel,\r\n\ttoggleProps = {},\r\n}) {\r\n\t/* translators: %s: The name of a menu. */\r\n\tconst createActionLabel = __(\"Create from '%s'\");\r\n\r\n\tactionLabel = actionLabel || createActionLabel;\r\n\r\n\tconst { menus: classicMenus } = useNavigationEntities();\r\n\r\n\tconst {\r\n\t\tnavigationMenus,\r\n\t\tcanUserCreateNavigationMenu,\r\n\t\tcanUserUpdateNavigationMenu,\r\n\t\tcanSwitchNavigationMenu,\r\n\t} = useNavigationMenu();\r\n\r\n\tconst handleSelect = useCallback(\r\n\t\t(_onClose) => (selectedId) => {\r\n\t\t\t_onClose();\r\n\t\t\tonSelect(\r\n\t\t\t\tnavigationMenus?.find((post) => post.id === selectedId)\r\n\t\t\t);\r\n\t\t},\r\n\t\t[navigationMenus]\r\n\t);\r\n\r\n\tconst handleSelectClassic = useCallback(\r\n\t\t(_onClose, menu) => () => {\r\n\t\t\t_onClose();\r\n\t\t\tonSelect(menu);\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst menuChoices = useMemo(() => {\r\n\t\treturn (\r\n\t\t\tnavigationMenus?.map(({ id, title }) => {\r\n\t\t\t\tconst label = decodeEntities(title.rendered);\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: id,\r\n\t\t\t\t\tlabel,\r\n\t\t\t\t\tariaLabel: sprintf(actionLabel, label),\r\n\t\t\t\t};\r\n\t\t\t}) || []\r\n\t\t);\r\n\t}, [navigationMenus]);\r\n\r\n\tconst hasNavigationMenus = !!navigationMenus?.length;\r\n\tconst hasClassicMenus = !!classicMenus?.length;\r\n\tconst showNavigationMenus = !!canSwitchNavigationMenu;\r\n\tconst showClassicMenus = !!canUserCreateNavigationMenu;\r\n\tconst hasManagePermissions =\r\n\t\tcanUserCreateNavigationMenu || canUserUpdateNavigationMenu;\r\n\r\n\t// Show the selector if:\r\n\t// - has switch or create permissions and there are block or classic menus.\r\n\t// - user has create or update permisisons and component should show the menu actions.\r\n\tconst showSelectMenus =\r\n\t\t((canSwitchNavigationMenu || canUserCreateNavigationMenu) &&\r\n\t\t\t(hasNavigationMenus || hasClassicMenus)) ||\r\n\t\t(hasManagePermissions && showManageActions);\r\n\r\n\tif (!showSelectMenus) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ToolbarDropdownMenu\r\n\t\t\tlabel={__('Select Menu')}\r\n\t\t\ttext={__('Select Menu')}\r\n\t\t\ticon={null}\r\n\t\t\ttoggleProps={toggleProps}\r\n\t\t>\r\n\t\t\t{({ onClose }) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{showNavigationMenus && hasNavigationMenus && (\r\n\t\t\t\t\t\t<MenuGroup label={__('Menus')}>\r\n\t\t\t\t\t\t\t<MenuItemsChoice\r\n\t\t\t\t\t\t\t\tvalue={currentMenuId}\r\n\t\t\t\t\t\t\t\tonSelect={handleSelect(onClose)}\r\n\t\t\t\t\t\t\t\tchoices={menuChoices}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{showClassicMenus && hasClassicMenus && (\r\n\t\t\t\t\t\t<MenuGroup label={__('Classic Menus')}>\r\n\t\t\t\t\t\t\t{classicMenus?.map((menu) => {\r\n\t\t\t\t\t\t\t\tconst label = decodeEntities(menu.name);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleSelectClassic(\r\n\t\t\t\t\t\t\t\t\t\t\tonClose,\r\n\t\t\t\t\t\t\t\t\t\t\tmenu\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tkey={menu.id}\r\n\t\t\t\t\t\t\t\t\t\taria-label={sprintf(\r\n\t\t\t\t\t\t\t\t\t\t\tcreateActionLabel,\r\n\t\t\t\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{showManageActions && hasManagePermissions && (\r\n\t\t\t\t\t\t<MenuGroup label={__('Tools')}>\r\n\t\t\t\t\t\t\t{canUserCreateNavigationMenu && (\r\n\t\t\t\t\t\t\t\t<MenuItem onClick={onCreateNew}>\r\n\t\t\t\t\t\t\t\t\t{__('Create new menu')}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\thref={addQueryArgs('edit.php', {\r\n\t\t\t\t\t\t\t\t\tpost_type: 'wp_navigation',\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{__('Manage menus')}\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</ToolbarDropdownMenu>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Placeholder, Button, Spinner } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { navigation, Icon } from '@wordpress/icons';\r\nimport { speak } from '@wordpress/a11y';\r\nimport { useEffect } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useNavigationEntities from '../../use-navigation-entities';\r\nimport PlaceholderPreview from './placeholder-preview';\r\nimport NavigationMenuSelector from '../navigation-menu-selector';\r\n\r\nexport default function NavigationPlaceholder( {\r\n\tisSelected,\r\n\tcurrentMenuId,\r\n\tclientId,\r\n\tcanUserCreateNavigationMenu = false,\r\n\tisResolvingCanUserCreateNavigationMenu,\r\n\tonFinish,\r\n\tonCreateEmpty,\r\n} ) {\r\n\tconst { isResolvingMenus, hasResolvedMenus } = useNavigationEntities();\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( ! isSelected ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( isResolvingMenus ) {\r\n\t\t\tspeak( __( 'Loading Navigation block setup options.' ) );\r\n\t\t}\r\n\r\n\t\tif ( hasResolvedMenus ) {\r\n\t\t\tspeak( __( 'Navigation block setup options ready.' ) );\r\n\t\t}\r\n\t}, [ isResolvingMenus, isSelected ] );\r\n\r\n\tconst isResolvingActions =\r\n\t\tisResolvingMenus && isResolvingCanUserCreateNavigationMenu;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Placeholder className=\"wp-block-navigation-placeholder\">\r\n\t\t\t\t{\r\n\t\t\t\t\t// The <PlaceholderPreview> component is displayed conditionally via CSS depending on\r\n\t\t\t\t\t// whether the block is selected or not. This is achieved via CSS to avoid\r\n\t\t\t\t\t// component re-renders\r\n\t\t\t\t }\r\n\t\t\t\t<PlaceholderPreview isVisible={ ! isSelected } />\r\n\t\t\t\t<div\r\n\t\t\t\t\taria-hidden={ ! isSelected ? true : undefined }\r\n\t\t\t\t\tclassName=\"wp-block-navigation-placeholder__controls\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"wp-block-navigation-placeholder__actions\">\r\n\t\t\t\t\t\t<div className=\"wp-block-navigation-placeholder__actions__indicator\">\r\n\t\t\t\t\t\t\t<Icon icon={ navigation } /> { __( 'Navigation' ) }\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<hr />\r\n\r\n\t\t\t\t\t\t{ isResolvingActions && <Spinner /> }\r\n\r\n\t\t\t\t\t\t<NavigationMenuSelector\r\n\t\t\t\t\t\t\tcurrentMenuId={ currentMenuId }\r\n\t\t\t\t\t\t\tclientId={ clientId }\r\n\t\t\t\t\t\t\tonSelect={ onFinish }\r\n\t\t\t\t\t\t\ttoggleProps={ {\r\n\t\t\t\t\t\t\t\tvariant: 'tertiary',\r\n\t\t\t\t\t\t\t\ticonPosition: 'right',\r\n\t\t\t\t\t\t\t\tclassName:\r\n\t\t\t\t\t\t\t\t\t'wp-block-navigation-placeholder__actions__dropdown',\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<hr />\r\n\r\n\t\t\t\t\t\t{ canUserCreateNavigationMenu && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\t\tonClick={ onCreateEmpty }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Start empty' ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Placeholder>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Icon, navigation } from '@wordpress/icons';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst PlaceholderPreview = ( { isVisible = true } ) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\taria-hidden={ ! isVisible ? true : undefined }\r\n\t\t\tclassName=\"wp-block-navigation-placeholder__preview\"\r\n\t\t>\r\n\t\t\t<div className=\"wp-block-navigation-placeholder__actions__indicator\">\r\n\t\t\t\t<Icon icon={ navigation } />\r\n\t\t\t\t{ __( 'Navigation' ) }\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaceholderPreview;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useInnerBlocksProps } from '@wordpress/block-editor';\r\nimport { Disabled, Spinner } from '@wordpress/components';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useContext, useEffect, useRef } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useNavigationMenu from '../use-navigation-menu';\r\nimport useCreateNavigationMenu from './use-create-navigation-menu';\r\n\r\nconst EMPTY_OBJECT = {};\r\nconst DRAFT_MENU_PARAMS = [\r\n\t'postType',\r\n\t'wp_navigation',\r\n\t{ status: 'draft', per_page: -1 },\r\n];\r\n\r\nexport default function UnsavedInnerBlocks( {\r\n\tblockProps,\r\n\tblocks,\r\n\tclientId,\r\n\thasSavedUnsavedInnerBlocks,\r\n\tonSave,\r\n\thasSelection,\r\n} ) {\r\n\t// The block will be disabled in a block preview, use this as a way of\r\n\t// avoiding the side-effects of this component for block previews.\r\n\tconst isDisabled = useContext( Disabled.Context );\r\n\tconst savingLock = useRef( false );\r\n\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\r\n\t\trenderAppender: hasSelection ? undefined : false,\r\n\t} );\r\n\r\n\tconst {\r\n\t\tisSaving,\r\n\t\tdraftNavigationMenus,\r\n\t\thasResolvedDraftNavigationMenus,\r\n\t} = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tif ( isDisabled ) {\r\n\t\t\t\treturn EMPTY_OBJECT;\r\n\t\t\t}\r\n\r\n\t\t\tconst {\r\n\t\t\t\tgetEntityRecords,\r\n\t\t\t\thasFinishedResolution,\r\n\t\t\t\tisSavingEntityRecord,\r\n\t\t\t} = select( coreStore );\r\n\r\n\t\t\treturn {\r\n\t\t\t\tisSaving: isSavingEntityRecord( 'postType', 'wp_navigation' ),\r\n\t\t\t\tdraftNavigationMenus: getEntityRecords( ...DRAFT_MENU_PARAMS ),\r\n\t\t\t\thasResolvedDraftNavigationMenus: hasFinishedResolution(\r\n\t\t\t\t\t'getEntityRecords',\r\n\t\t\t\t\tDRAFT_MENU_PARAMS\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ isDisabled ]\r\n\t);\r\n\r\n\tconst { hasResolvedNavigationMenus, navigationMenus } = useNavigationMenu();\r\n\r\n\tconst { create: createNavigationMenu } = useCreateNavigationMenu(\r\n\t\tclientId\r\n\t);\r\n\r\n\t// Automatically save the uncontrolled blocks.\r\n\tuseEffect( async () => {\r\n\t\t// The block will be disabled when used in a BlockPreview.\r\n\t\t// In this case avoid automatic creation of a wp_navigation post.\r\n\t\t// Otherwise the user will be spammed with lots of menus!\r\n\t\t//\r\n\t\t// Also ensure other navigation menus have loaded so an\r\n\t\t// accurate name can be created.\r\n\t\t//\r\n\t\t// Don't try saving when another save is already\r\n\t\t// in progress.\r\n\t\t//\r\n\t\t// And finally only create the menu when the block is selected,\r\n\t\t// which is an indication they want to start editing.\r\n\t\tif (\r\n\t\t\tisDisabled ||\r\n\t\t\thasSavedUnsavedInnerBlocks ||\r\n\t\t\tisSaving ||\r\n\t\t\tsavingLock.current ||\r\n\t\t\t! hasResolvedDraftNavigationMenus ||\r\n\t\t\t! hasResolvedNavigationMenus ||\r\n\t\t\t! hasSelection\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsavingLock.current = true;\r\n\t\tconst menu = await createNavigationMenu( null, blocks );\r\n\t\tonSave( menu );\r\n\t\tsavingLock.current = false;\r\n\t}, [\r\n\t\tisDisabled,\r\n\t\tisSaving,\r\n\t\thasResolvedDraftNavigationMenus,\r\n\t\thasResolvedNavigationMenus,\r\n\t\tdraftNavigationMenus,\r\n\t\tnavigationMenus,\r\n\t\thasSelection,\r\n\t\tcreateNavigationMenu,\r\n\t\tblocks,\r\n\t] );\r\n\r\n\treturn (\r\n\t\t<div className=\"wp-block-navigation__unsaved-changes\">\r\n\t\t\t<Disabled\r\n\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t'wp-block-navigation__unsaved-changes-overlay',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'is-saving': hasSelection,\r\n\t\t\t\t\t}\r\n\t\t\t\t) }\r\n\t\t\t>\r\n\t\t\t\t<div { ...innerBlocksProps } />\r\n\t\t\t</Disabled>\r\n\t\t\t{ hasSelection && <Spinner /> }\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useRegistry } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useState, useCallback } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useCreateNavigationMenu from './use-create-navigation-menu';\r\nimport menuItemsToBlocks from '../menu-items-to-blocks';\r\n\r\nexport const CLASSIC_MENU_CONVERSION_SUCCESS = 'success';\r\nexport const CLASSIC_MENU_CONVERSION_ERROR = 'error';\r\nexport const CLASSIC_MENU_CONVERSION_PENDING = 'pending';\r\nexport const CLASSIC_MENU_CONVERSION_IDLE = 'idle';\r\n\r\nfunction useConvertClassicToBlockMenu(clientId) {\r\n\tconst { create: createNavigationMenu } = useCreateNavigationMenu(\r\n\t\tclientId\r\n\t);\r\n\tconst registry = useRegistry();\r\n\r\n\tconst [status, setStatus] = useState(CLASSIC_MENU_CONVERSION_IDLE);\r\n\tconst [value, setValue] = useState(null);\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tasync function convertClassicMenuToBlockMenu(menuId, menuName) {\r\n\t\tlet navigationMenu;\r\n\t\tlet classicMenuItems;\r\n\r\n\t\t// 1. Fetch the classic Menu items.\r\n\t\ttry {\r\n\t\t\tclassicMenuItems = await registry\r\n\t\t\t\t.resolveSelect(coreStore)\r\n\t\t\t\t.getMenuItems({\r\n\t\t\t\t\tmenus: menuId,\r\n\t\t\t\t\tper_page: -1,\r\n\t\t\t\t\tcontext: 'view',\r\n\t\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\tsprintf(\r\n\t\t\t\t\t// translators: %s: the name of a menu (e.g. Header navigation).\r\n\t\t\t\t\t__(`Unable to fetch classic menu \"%s\" from API.`),\r\n\t\t\t\t\tmenuName\r\n\t\t\t\t),\r\n\t\t\t\t{\r\n\t\t\t\t\tcause: err,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// Handle offline response which resolves to `null`.\r\n\t\tif (classicMenuItems === null) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\tsprintf(\r\n\t\t\t\t\t// translators: %s: the name of a menu (e.g. Header navigation).\r\n\t\t\t\t\t__(`Unable to fetch classic menu \"%s\" from API.`),\r\n\t\t\t\t\tmenuName\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// 2. Convert the classic items into blocks.\r\n\t\tconst { innerBlocks } = menuItemsToBlocks(classicMenuItems);\r\n\r\n\t\tconsole.log(innerBlocks, 'innerBlocks');\r\n\t\t// 3. Create the `wp_navigation` Post with the blocks.\r\n\t\ttry {\r\n\t\t\tnavigationMenu = await createNavigationMenu(\r\n\t\t\t\tmenuName,\r\n\t\t\t\tinnerBlocks\r\n\t\t\t);\r\n\t\t} catch (err) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\tsprintf(\r\n\t\t\t\t\t// translators: %s: the name of a menu (e.g. Header navigation).\r\n\t\t\t\t\t__(`Unable to create Navigation Menu \"%s\".`),\r\n\t\t\t\t\tmenuName\r\n\t\t\t\t),\r\n\t\t\t\t{\r\n\t\t\t\t\tcause: err,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn navigationMenu;\r\n\t}\r\n\r\n\tconst convert = useCallback(\r\n\t\t(menuId, menuName) => {\r\n\t\t\tif (!menuId || !menuName) {\r\n\t\t\t\tsetError('Unable to convert menu. Missing menu details.');\r\n\t\t\t\tsetStatus(CLASSIC_MENU_CONVERSION_ERROR);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsetStatus(CLASSIC_MENU_CONVERSION_PENDING);\r\n\t\t\tsetValue(null);\r\n\t\t\tsetError(null);\r\n\r\n\t\t\tconvertClassicMenuToBlockMenu(menuId, menuName)\r\n\t\t\t\t.then((navMenu) => {\r\n\t\t\t\t\tsetValue(navMenu);\r\n\t\t\t\t\tsetStatus(CLASSIC_MENU_CONVERSION_SUCCESS);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetError(err?.message);\r\n\t\t\t\t\tsetStatus(CLASSIC_MENU_CONVERSION_ERROR);\r\n\r\n\t\t\t\t\t// Rethrow error for debugging.\r\n\t\t\t\t\tthrow new Error(\r\n\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t// translators: %s: the name of a menu (e.g. Header navigation).\r\n\t\t\t\t\t\t\t__(`Unable to create Navigation Menu \"%s\".`),\r\n\t\t\t\t\t\t\tmenuName\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcause: err,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[clientId]\r\n\t);\r\n\r\n\treturn {\r\n\t\tconvert,\r\n\t\tstatus,\r\n\t\tvalue,\r\n\t\terror,\r\n\t};\r\n}\r\n\r\nexport default useConvertClassicToBlockMenu;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { serialize } from '@wordpress/blocks';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { useState, useCallback } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useGenerateDefaultNavigationTitle from './use-generate-default-navigation-title';\r\n\r\nexport const CREATE_NAVIGATION_MENU_SUCCESS = 'success';\r\nexport const CREATE_NAVIGATION_MENU_ERROR = 'error';\r\nexport const CREATE_NAVIGATION_MENU_PENDING = 'pending';\r\nexport const CREATE_NAVIGATION_MENU_IDLE = 'idle';\r\n\r\nexport default function useCreateNavigationMenu( clientId ) {\r\n\tconst [ status, setStatus ] = useState( CREATE_NAVIGATION_MENU_IDLE );\r\n\tconst [ value, setValue ] = useState( null );\r\n\tconst [ error, setError ] = useState( null );\r\n\r\n\tconst { saveEntityRecord } = useDispatch( coreStore );\r\n\tconst generateDefaultTitle = useGenerateDefaultNavigationTitle( clientId );\r\n\r\n\t// This callback uses data from the two placeholder steps and only creates\r\n\t// a new navigation menu when the user completes the final step.\r\n\tconst create = useCallback(\r\n\t\tasync ( title = null, blocks = [] ) => {\r\n\t\t\t// Guard against creating Navigations without a title.\r\n\t\t\t// Note you can pass no title, but if one is passed it must be\r\n\t\t\t// a string otherwise the title may end up being empty.\r\n\t\t\tif ( title && typeof title !== 'string' ) {\r\n\t\t\t\tsetError(\r\n\t\t\t\t\t'Invalid title supplied when creating Navigation Menu.'\r\n\t\t\t\t);\r\n\t\t\t\tsetStatus( CREATE_NAVIGATION_MENU_ERROR );\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\t`Value of supplied title argument was not a string.`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tsetStatus( CREATE_NAVIGATION_MENU_PENDING );\r\n\t\t\tsetValue( null );\r\n\t\t\tsetError( null );\r\n\r\n\t\t\tif ( ! title ) {\r\n\t\t\t\ttitle = await generateDefaultTitle().catch( ( err ) => {\r\n\t\t\t\t\tsetError( err?.message );\r\n\t\t\t\t\tsetStatus( CREATE_NAVIGATION_MENU_ERROR );\r\n\t\t\t\t\tthrow new Error(\r\n\t\t\t\t\t\t'Failed to create title when saving new Navigation Menu.',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcause: err,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\tconst record = {\r\n\t\t\t\ttitle,\r\n\t\t\t\tcontent: serialize( blocks ),\r\n\t\t\t\tstatus: 'publish',\r\n\t\t\t};\r\n\r\n\t\t\t// Return affords ability to await on this function directly\r\n\t\t\treturn saveEntityRecord( 'postType', 'wp_navigation', record )\r\n\t\t\t\t.then( ( response ) => {\r\n\t\t\t\t\tsetValue( response );\r\n\t\t\t\t\tsetStatus( CREATE_NAVIGATION_MENU_SUCCESS );\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t} )\r\n\t\t\t\t.catch( ( err ) => {\r\n\t\t\t\t\tsetError( err?.message );\r\n\t\t\t\t\tsetStatus( CREATE_NAVIGATION_MENU_ERROR );\r\n\t\t\t\t\tthrow new Error( 'Unable to save new Navigation Menu', {\r\n\t\t\t\t\t\tcause: err,\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t},\r\n\t\t[ serialize, saveEntityRecord ]\r\n\t);\r\n\r\n\treturn {\r\n\t\tcreate,\r\n\t\tstatus,\r\n\t\tvalue,\r\n\t\terror,\r\n\t};\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Disabled } from '@wordpress/components';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useRegistry } from '@wordpress/data';\r\nimport { useContext, useCallback } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useTemplatePartAreaLabel from '../use-template-part-area-label';\r\n\r\nconst DRAFT_MENU_PARAMS = [\r\n\t'postType',\r\n\t'wp_navigation',\r\n\t{ status: 'draft', per_page: -1 },\r\n];\r\n\r\nconst PUBLISHED_MENU_PARAMS = [\r\n\t'postType',\r\n\t'wp_navigation',\r\n\t{ per_page: -1, status: 'publish' },\r\n];\r\n\r\nexport default function useGenerateDefaultNavigationTitle( clientId ) {\r\n\t// The block will be disabled in a block preview, use this as a way of\r\n\t// avoiding the side-effects of this component for block previews.\r\n\tconst isDisabled = useContext( Disabled.Context );\r\n\r\n\t// Because we can't conditionally call hooks, pass an undefined client id\r\n\t// arg to bypass the expensive `useTemplateArea` code. The hook will return\r\n\t// early.\r\n\tconst area = useTemplatePartAreaLabel( isDisabled ? undefined : clientId );\r\n\r\n\tconst registry = useRegistry();\r\n\treturn useCallback( async () => {\r\n\t\t// Ensure other navigation menus have loaded so an\r\n\t\t// accurate name can be created.\r\n\t\tif ( isDisabled ) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tconst { getEntityRecords } = registry.resolveSelect( coreStore );\r\n\r\n\t\tconst [ draftNavigationMenus, navigationMenus ] = await Promise.all( [\r\n\t\t\tgetEntityRecords( ...DRAFT_MENU_PARAMS ),\r\n\t\t\tgetEntityRecords( ...PUBLISHED_MENU_PARAMS ),\r\n\t\t] );\r\n\r\n\t\tconst title = area\r\n\t\t\t? sprintf(\r\n\t\t\t\t\t// translators: %s: the name of a menu (e.g. Header navigation).\r\n\t\t\t\t\t__( '%s navigation' ),\r\n\t\t\t\t\tarea\r\n\t\t\t  )\r\n\t\t\t: // translators: 'navigation' as in website navigation.\r\n\t\t\t  __( 'Navigation' );\r\n\r\n\t\t// Determine how many menus start with the automatic title.\r\n\t\tconst matchingMenuTitleCount = [\r\n\t\t\t...draftNavigationMenus,\r\n\t\t\t...navigationMenus,\r\n\t\t].reduce(\r\n\t\t\t( count, menu ) =>\r\n\t\t\t\tmenu?.title?.raw?.startsWith( title ) ? count + 1 : count,\r\n\t\t\t0\r\n\t\t);\r\n\r\n\t\t// Append a number to the end of the title if a menu with\r\n\t\t// the same name exists.\r\n\t\tconst titleWithCount =\r\n\t\t\tmatchingMenuTitleCount > 0\r\n\t\t\t\t? `${ title } ${ matchingMenuTitleCount + 1 }`\r\n\t\t\t\t: title;\r\n\r\n\t\treturn titleWithCount || '';\r\n\t}, [ isDisabled, area ] );\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\t__experimentalListView as ListView,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { ToolbarButton, Modal } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useRef, useEffect, useState } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { listView } from '@wordpress/icons';\r\n\r\nfunction NavigationBlockListView( { clientId, __experimentalFeatures } ) {\r\n\tconst blocks = useSelect(\r\n\t\t( select ) =>\r\n\t\t\tselect( blockEditorStore ).__unstableGetClientIdsTree( clientId ),\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\tconst listViewRef = useRef();\r\n\tconst [ minHeight, setMinHeight ] = useState( 300 );\r\n\tuseEffect( () => {\r\n\t\tsetMinHeight( listViewRef?.current?.clientHeight ?? 300 );\r\n\t}, [] );\r\n\r\n\treturn (\r\n\t\t<div style={ { minHeight } }>\r\n\t\t\t<ListView\r\n\t\t\t\tref={ listViewRef }\r\n\t\t\t\tblocks={ blocks }\r\n\t\t\t\tshowBlockMovers\r\n\t\t\t\tshowNestedBlocks\r\n\t\t\t\t__experimentalFeatures={ __experimentalFeatures }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default function useListViewModal( clientId, __experimentalFeatures ) {\r\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\r\n\r\n\tconst listViewToolbarButton = (\r\n\t\t<ToolbarButton\r\n\t\t\tclassName=\"components-toolbar__control\"\r\n\t\t\tlabel={ __( 'Open list view' ) }\r\n\t\t\tonClick={ () => setIsModalOpen( true ) }\r\n\t\t\ticon={ listView }\r\n\t\t/>\r\n\t);\r\n\r\n\tconst listViewModal = isModalOpen && (\r\n\t\t<Modal\r\n\t\t\ttitle={ __( 'List View' ) }\r\n\t\t\tcloseLabel={ __( 'Close' ) }\r\n\t\t\tonRequestClose={ () => {\r\n\t\t\t\tsetIsModalOpen( false );\r\n\t\t\t} }\r\n\t\t\tshouldCloseOnClickOutside={ false }\r\n\t\t>\r\n\t\t\t<NavigationBlockListView\r\n\t\t\t\tclientId={ clientId }\r\n\t\t\t\t__experimentalFeatures={ __experimentalFeatures }\r\n\t\t\t/>\r\n\t\t</Modal>\r\n\t);\r\n\r\n\treturn {\r\n\t\tlistViewToolbarButton,\r\n\t\tlistViewModal,\r\n\t};\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useRef } from '@wordpress/element';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { store as noticeStore } from '@wordpress/notices';\r\n\r\nfunction useNavigationNotice( { name, message = '' } = {} ) {\r\n\tconst noticeRef = useRef();\r\n\r\n\tconst { createWarningNotice, removeNotice } = useDispatch( noticeStore );\r\n\r\n\tconst showNotice = ( customMsg ) => {\r\n\t\tif ( noticeRef.current ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tnoticeRef.current = name;\r\n\r\n\t\tcreateWarningNotice( customMsg || message, {\r\n\t\t\tid: noticeRef.current,\r\n\t\t\ttype: 'snackbar',\r\n\t\t} );\r\n\t};\r\n\r\n\tconst hideNotice = () => {\r\n\t\tif ( ! noticeRef.current ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tremoveNotice( noticeRef.current );\r\n\t\tnoticeRef.current = null;\r\n\t};\r\n\r\n\treturn [ showNotice, hideNotice ];\r\n}\r\n\r\nexport default useNavigationNotice;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { registerBlockType } from '@wordpress/blocks';\r\nimport { navigation as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport './editor.scss';\r\nimport './style.scss';\r\n\r\nconst { name } = metadata;\r\n\r\nregisterBlockType(name, {\r\n\ticon,\r\n\texample: {\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'kemet/navigation-link',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\t// translators: 'Home' as in a website's home page.\r\n\t\t\t\t\tlabel: __('Home'),\r\n\t\t\t\t\turl: 'https://make.wordpress.org/',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'kemet/navigation-link',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\t// translators: 'About' as in a website's about page.\r\n\t\t\t\t\tlabel: __('About'),\r\n\t\t\t\t\turl: 'https://make.wordpress.org/',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'kemet/navigation-link',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\t// translators: 'Contact' as in a website's contact page.\r\n\t\t\t\t\tlabel: __('Contact'),\r\n\t\t\t\t\turl: 'https://make.wordpress.org/',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t/**\r\n\t * @see ./edit.js\r\n\t */\r\n\tedit,\r\n\tsave,\r\n});\r\n\r\nconsole.log('hello from kemet');","/**\r\n * External dependencies\r\n */\r\nimport { sortBy } from 'lodash';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock, parse } from '@wordpress/blocks';\r\nimport { applyFilters } from '@wordpress/hooks';\r\n\r\n/**\r\n * Convert a flat menu item structure to a nested blocks structure.\r\n *\r\n * @param {Object[]} menuItems An array of menu items.\r\n *\r\n * @return {WPBlock[]} An array of blocks.\r\n */\r\nexport default function menuItemsToBlocks(menuItems) {\r\n\tif (!menuItems) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst menuTree = createDataTree(menuItems);\r\n\tconst blocks = mapMenuItemsToBlocks(menuTree);\r\n\treturn applyFilters(\r\n\t\t'blocks.navigation.__unstableMenuItemsToBlocks',\r\n\t\tblocks,\r\n\t\tmenuItems\r\n\t);\r\n}\r\n\r\n/**\r\n * A recursive function that maps menu item nodes to blocks.\r\n *\r\n * @param {WPNavMenuItem[]} menuItems An array of WPNavMenuItem items.\r\n * @return {Object} Object containing innerBlocks and mapping.\r\n */\r\nfunction mapMenuItemsToBlocks(menuItems) {\r\n\tlet mapping = {};\r\n\r\n\t// The menuItem should be in menu_order sort order.\r\n\tconst sortedItems = sortBy(menuItems, 'menu_order');\r\n\r\n\tconst innerBlocks = sortedItems.map((menuItem) => {\r\n\t\tif (menuItem.type === 'block') {\r\n\t\t\tconst [block] = parse(menuItem.content.raw);\r\n\r\n\t\t\tif (!block) {\r\n\t\t\t\treturn createBlock('core/freeform', {\r\n\t\t\t\t\tcontent: menuItem.content,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn block;\r\n\t\t}\r\n\r\n\t\tconst attributes = menuItemToBlockAttributes(menuItem);\r\n\r\n\t\t// If there are children recurse to build those nested blocks.\r\n\t\tconst {\r\n\t\t\tinnerBlocks: nestedBlocks = [], // alias to avoid shadowing\r\n\t\t\tmapping: nestedMapping = {}, // alias to avoid shadowing\r\n\t\t} = menuItem.children?.length\r\n\t\t\t\t? mapMenuItemsToBlocks(menuItem.children)\r\n\t\t\t\t: {};\r\n\r\n\t\t// Update parent mapping with nested mapping.\r\n\t\tmapping = {\r\n\t\t\t...mapping,\r\n\t\t\t...nestedMapping,\r\n\t\t};\r\n\r\n\t\tconst blockType = menuItem.children?.length\r\n\t\t\t? 'kemet/navigation-submenu'\r\n\t\t\t: 'kemet/navigation-link';\r\n\r\n\t\t// Create block with nested \"innerBlocks\".\r\n\t\tconst block = createBlock(blockType, attributes, nestedBlocks);\r\n\r\n\t\t// Create mapping for menuItem -> block.\r\n\t\tmapping[menuItem.id] = block.clientId;\r\n\r\n\t\treturn block;\r\n\t});\r\n\r\n\treturn {\r\n\t\tinnerBlocks,\r\n\t\tmapping,\r\n\t};\r\n}\r\n\r\n/**\r\n * A WP nav_menu_item object.\r\n * For more documentation on the individual fields present on a menu item please see:\r\n * https://core.trac.wordpress.org/browser/tags/5.7.1/src/wp-includes/nav-menu.php#L789\r\n *\r\n * Changes made here should also be mirrored in packages/edit-navigation/src/store/utils.js.\r\n *\r\n * @typedef WPNavMenuItem\r\n *\r\n * @property {Object} title       stores the raw and rendered versions of the title/label for this menu item.\r\n * @property {Array}  xfn         the XFN relationships expressed in the link of this menu item.\r\n * @property {Array}  classes     the HTML class attributes for this menu item.\r\n * @property {string} attr_title  the HTML title attribute for this menu item.\r\n * @property {string} object      The type of object originally represented, such as 'category', 'post', or 'attachment'.\r\n * @property {string} object_id   The DB ID of the original object this menu item represents, e.g. ID for posts and term_id for categories.\r\n * @property {string} description The description of this menu item.\r\n * @property {string} url         The URL to which this menu item points.\r\n * @property {string} type        The family of objects originally represented, such as 'post_type' or 'taxonomy'.\r\n * @property {string} target      The target attribute of the link element for this menu item.\r\n */\r\n\r\n/**\r\n * Convert block attributes to menu item.\r\n *\r\n * @param {WPNavMenuItem} menuItem the menu item to be converted to block attributes.\r\n * @return {Object} the block attributes converted from the WPNavMenuItem item.\r\n */\r\nfunction menuItemToBlockAttributes({\r\n\ttitle: menuItemTitleField,\r\n\txfn,\r\n\tclasses,\r\n\t// eslint-disable-next-line camelcase\r\n\tattr_title,\r\n\tobject,\r\n\t// eslint-disable-next-line camelcase\r\n\tobject_id,\r\n\tdescription,\r\n\turl,\r\n\ttype: menuItemTypeField,\r\n\ttarget,\r\n}) {\r\n\t// For historical reasons, the `kemet/navigation-link` variation type is `tag`\r\n\t// whereas WP Core expects `post_tag` as the `object` type.\r\n\t// To avoid writing a block migration we perform a conversion here.\r\n\t// See also inverse equivalent in `blockAttributesToMenuItem`.\r\n\tif (object && object === 'post_tag') {\r\n\t\tobject = 'tag';\r\n\t}\r\n\r\n\treturn {\r\n\t\tlabel: menuItemTitleField?.rendered || '',\r\n\t\t...(object?.length && {\r\n\t\t\ttype: object,\r\n\t\t}),\r\n\t\tkind: menuItemTypeField?.replace('_', '-') || 'custom',\r\n\t\turl: url || '',\r\n\t\t...(xfn?.length &&\r\n\t\t\txfn.join(' ').trim() && {\r\n\t\t\trel: xfn.join(' ').trim(),\r\n\t\t}),\r\n\t\t...(classes?.length &&\r\n\t\t\tclasses.join(' ').trim() && {\r\n\t\t\tclassName: classes.join(' ').trim(),\r\n\t\t}),\r\n\t\t/* eslint-disable camelcase */\r\n\t\t...(attr_title?.length && {\r\n\t\t\ttitle: attr_title,\r\n\t\t}),\r\n\t\t...(object_id &&\r\n\t\t\t'custom' !== object && {\r\n\t\t\tid: object_id,\r\n\t\t}),\r\n\t\t/* eslint-enable camelcase */\r\n\t\t...(description?.length && {\r\n\t\t\tdescription,\r\n\t\t}),\r\n\t\t...(target === '_blank' && {\r\n\t\t\topensInNewTab: true,\r\n\t\t}),\r\n\t};\r\n}\r\n\r\n/**\r\n * Creates a nested, hierarchical tree representation from unstructured data that\r\n * has an inherent relationship defined between individual items.\r\n *\r\n * For example, by default, each element in the dataset should have an `id` and\r\n * `parent` property where the `parent` property indicates a relationship between\r\n * the current item and another item with a matching `id` properties.\r\n *\r\n * This is useful for building linked lists of data from flat data structures.\r\n *\r\n * @param {Array}  dataset  linked data to be rearranged into a hierarchical tree based on relational fields.\r\n * @param {string} id       the property which uniquely identifies each entry within the array.\r\n * @param {*}      relation the property which identifies how the current item is related to other items in the data (if at all).\r\n * @return {Array} a nested array of parent/child relationships\r\n */\r\nfunction createDataTree(dataset, id = 'id', relation = 'parent') {\r\n\tconst hashTable = Object.create(null);\r\n\tconst dataTree = [];\r\n\r\n\tfor (const data of dataset) {\r\n\t\thashTable[data[id]] = {\r\n\t\t\t...data,\r\n\t\t\tchildren: [],\r\n\t\t};\r\n\t\tif (data[relation]) {\r\n\t\t\thashTable[data[relation]] = hashTable[data[relation]] || {};\r\n\t\t\thashTable[data[relation]].children =\r\n\t\t\t\thashTable[data[relation]].children || [];\r\n\t\t\thashTable[data[relation]].children.push(\r\n\t\t\t\thashTable[data[id]]\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tdataTree.push(hashTable[data[id]]);\r\n\t\t}\r\n\t}\r\n\r\n\treturn dataTree;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tif ( attributes.ref ) {\r\n\t\t// Avoid rendering inner blocks when a ref is defined.\r\n\t\t// When this id is defined the inner blocks are loaded from the\r\n\t\t// `wp_navigation` entity rather than the hard-coded block html.\r\n\t\treturn;\r\n\t}\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport {\r\n\tstore as coreStore,\r\n\t__experimentalUseEntityRecords as useEntityRecords,\r\n} from '@wordpress/core-data';\r\n\r\n/**\r\n * @typedef {Object} NavigationEntitiesData\r\n * @property {Array|undefined} pages                - a collection of WP Post entity objects of post type \"Page\".\r\n * @property {boolean}         isResolvingPages     - indicates whether the request to fetch pages is currently resolving.\r\n * @property {boolean}         hasResolvedPages     - indicates whether the request to fetch pages has finished resolving.\r\n * @property {Array|undefined} menus                - a collection of Menu entity objects.\r\n * @property {boolean}         isResolvingMenus     - indicates whether the request to fetch menus is currently resolving.\r\n * @property {boolean}         hasResolvedMenus     - indicates whether the request to fetch menus has finished resolving.\r\n * @property {Array|undefined} menusItems           - a collection of Menu Item entity objects for the current menuId.\r\n * @property {boolean}         hasResolvedMenuItems - indicates whether the request to fetch menuItems has finished resolving.\r\n * @property {boolean}         hasPages             - indicates whether there is currently any data for pages.\r\n * @property {boolean}         hasMenus             - indicates whether there is currently any data for menus.\r\n */\r\n\r\n/**\r\n * Manages fetching and resolution state for all entities required\r\n * for the Navigation block.\r\n *\r\n * @param {number} menuId the menu for which to retrieve menuItem data.\r\n * @return { NavigationEntitiesData } the entity data.\r\n */\r\nexport default function useNavigationEntities( menuId ) {\r\n\treturn {\r\n\t\t...usePageEntities(),\r\n\t\t...useMenuEntities(),\r\n\t\t...useMenuItemEntities( menuId ),\r\n\t};\r\n}\r\n\r\nfunction useMenuEntities() {\r\n\tconst { records, isResolving, hasResolved } = useEntityRecords(\r\n\t\t'root',\r\n\t\t'menu',\r\n\t\t{ per_page: -1, context: 'view' }\r\n\t);\r\n\r\n\treturn {\r\n\t\tmenus: records,\r\n\t\tisResolvingMenus: isResolving,\r\n\t\thasResolvedMenus: hasResolved,\r\n\t\thasMenus: !! ( hasResolved && records?.length ),\r\n\t};\r\n}\r\n\r\nfunction useMenuItemEntities( menuId ) {\r\n\tconst { menuItems, hasResolvedMenuItems } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getMenuItems, hasFinishedResolution } = select( coreStore );\r\n\r\n\t\t\tconst hasSelectedMenu = menuId !== undefined;\r\n\t\t\tconst menuItemsParameters = hasSelectedMenu\r\n\t\t\t\t? [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmenus: menuId,\r\n\t\t\t\t\t\t\tper_page: -1,\r\n\t\t\t\t\t\t\tcontext: 'view',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  ]\r\n\t\t\t\t: undefined;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tmenuItems: hasSelectedMenu\r\n\t\t\t\t\t? getMenuItems( ...menuItemsParameters )\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\thasResolvedMenuItems: hasSelectedMenu\r\n\t\t\t\t\t? hasFinishedResolution(\r\n\t\t\t\t\t\t\t'getMenuItems',\r\n\t\t\t\t\t\t\tmenuItemsParameters\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: false,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ menuId ]\r\n\t);\r\n\r\n\treturn {\r\n\t\tmenuItems,\r\n\t\thasResolvedMenuItems,\r\n\t};\r\n}\r\n\r\nfunction usePageEntities() {\r\n\tconst { records, isResolving, hasResolved } = useEntityRecords(\r\n\t\t'postType',\r\n\t\t'page',\r\n\t\t{\r\n\t\t\tparent: 0,\r\n\t\t\torder: 'asc',\r\n\t\t\torderby: 'id',\r\n\t\t\tper_page: -1,\r\n\t\t\tcontext: 'view',\r\n\t\t}\r\n\t);\r\n\r\n\treturn {\r\n\t\tpages: records,\r\n\t\tisResolvingPages: isResolving,\r\n\t\thasResolvedPages: hasResolved,\r\n\t\thasPages: !! ( hasResolved && records?.length ),\r\n\t};\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nexport default function useNavigationMenu( ref ) {\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst {\r\n\t\t\t\tgetEntityRecord,\r\n\t\t\t\tgetEditedEntityRecord,\r\n\t\t\t\tgetEntityRecords,\r\n\t\t\t\thasFinishedResolution,\r\n\t\t\t\tisResolving,\r\n\t\t\t\tcanUser,\r\n\t\t\t} = select( coreStore );\r\n\r\n\t\t\tconst navigationMenuSingleArgs = [\r\n\t\t\t\t'postType',\r\n\t\t\t\t'wp_navigation',\r\n\t\t\t\tref,\r\n\t\t\t];\r\n\t\t\tconst rawNavigationMenu = ref\r\n\t\t\t\t? getEntityRecord( ...navigationMenuSingleArgs )\r\n\t\t\t\t: null;\r\n\t\t\tlet navigationMenu = ref\r\n\t\t\t\t? getEditedEntityRecord( ...navigationMenuSingleArgs )\r\n\t\t\t\t: null;\r\n\r\n\t\t\t// getEditedEntityRecord will return the post regardless of status.\r\n\t\t\t// Therefore if the found post is not published then we should ignore it.\r\n\t\t\tif ( navigationMenu?.status !== 'publish' ) {\r\n\t\t\t\tnavigationMenu = null;\r\n\t\t\t}\r\n\r\n\t\t\tconst hasResolvedNavigationMenu = ref\r\n\t\t\t\t? hasFinishedResolution(\r\n\t\t\t\t\t\t'getEditedEntityRecord',\r\n\t\t\t\t\t\tnavigationMenuSingleArgs\r\n\t\t\t\t  )\r\n\t\t\t\t: false;\r\n\r\n\t\t\tconst navigationMenuMultipleArgs = [\r\n\t\t\t\t'postType',\r\n\t\t\t\t'wp_navigation',\r\n\t\t\t\t{ per_page: -1, status: 'publish' },\r\n\t\t\t];\r\n\t\t\tconst navigationMenus = getEntityRecords(\r\n\t\t\t\t...navigationMenuMultipleArgs\r\n\t\t\t);\r\n\r\n\t\t\tconst canSwitchNavigationMenu = ref\r\n\t\t\t\t? navigationMenus?.length > 1\r\n\t\t\t\t: navigationMenus?.length > 0;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tisNavigationMenuResolved: hasResolvedNavigationMenu,\r\n\t\t\t\tisNavigationMenuMissing:\r\n\t\t\t\t\t! ref ||\r\n\t\t\t\t\t( hasResolvedNavigationMenu && ! rawNavigationMenu ),\r\n\t\t\t\tcanSwitchNavigationMenu,\r\n\t\t\t\thasResolvedNavigationMenus: hasFinishedResolution(\r\n\t\t\t\t\t'getEntityRecords',\r\n\t\t\t\t\tnavigationMenuMultipleArgs\r\n\t\t\t\t),\r\n\t\t\t\tnavigationMenu,\r\n\t\t\t\tnavigationMenus,\r\n\t\t\t\tcanUserUpdateNavigationMenu: ref\r\n\t\t\t\t\t? canUser( 'update', 'navigation', ref )\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\thasResolvedCanUserUpdateNavigationMenu: hasFinishedResolution(\r\n\t\t\t\t\t'canUser',\r\n\t\t\t\t\t[ 'update', 'navigation', ref ]\r\n\t\t\t\t),\r\n\t\t\t\tcanUserDeleteNavigationMenu: ref\r\n\t\t\t\t\t? canUser( 'delete', 'navigation', ref )\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\thasResolvedCanUserDeleteNavigationMenu: hasFinishedResolution(\r\n\t\t\t\t\t'canUser',\r\n\t\t\t\t\t[ 'delete', 'navigation', ref ]\r\n\t\t\t\t),\r\n\t\t\t\tcanUserCreateNavigationMenu: canUser( 'create', 'navigation' ),\r\n\t\t\t\tisResolvingCanUserCreateNavigationMenu: isResolving(\r\n\t\t\t\t\t'canUser',\r\n\t\t\t\t\t[ 'create', 'navigation' ]\r\n\t\t\t\t),\r\n\t\t\t\thasResolvedCanUserCreateNavigationMenu: hasFinishedResolution(\r\n\t\t\t\t\t'canUser',\r\n\t\t\t\t\t[ 'create', 'navigation' ]\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ ref ]\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n\r\nexport default function useTemplatePartAreaLabel(clientId) {\r\n\r\n\tconst createTemplatePartId = (theme, slug) => {\r\n\t\treturn theme && slug ? theme + '//' + slug : null;\r\n\t}\r\n\r\n\treturn useSelect(\r\n\t\t(select) => {\r\n\t\t\t// Use the lack of a clientId as an opportunity to bypass the rest\r\n\t\t\t// of this hook.\r\n\t\t\tif (!clientId) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst { getBlock, getBlockParentsByBlockName } = select(\r\n\t\t\t\tblockEditorStore\r\n\t\t\t);\r\n\r\n\t\t\tconst withAscendingResults = true;\r\n\t\t\tconst parentTemplatePartClientIds = getBlockParentsByBlockName(\r\n\t\t\t\tclientId,\r\n\t\t\t\t'core/template-part',\r\n\t\t\t\twithAscendingResults\r\n\t\t\t);\r\n\r\n\t\t\tif (!parentTemplatePartClientIds?.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// FIXME: @wordpress/block-library should not depend on @wordpress/editor.\r\n\t\t\t// Blocks can be loaded into a *non-post* block editor.\r\n\t\t\t// This code is lifted from this file:\r\n\t\t\t// packages/block-library/src/template-part/edit/advanced-controls.js\r\n\t\t\t// eslint-disable-next-line @wordpress/data-no-store-string-literals\r\n\t\t\tconst definedAreas = select(\r\n\t\t\t\t'core/editor'\r\n\t\t\t).__experimentalGetDefaultTemplatePartAreas();\r\n\t\t\tconst { getEditedEntityRecord } = select(coreStore);\r\n\r\n\t\t\tfor (const templatePartClientId of parentTemplatePartClientIds) {\r\n\t\t\t\tconst templatePartBlock = getBlock(templatePartClientId);\r\n\r\n\t\t\t\t// The 'area' usually isn't stored on the block, but instead\r\n\t\t\t\t// on the entity.\r\n\t\t\t\tconst { theme, slug } = templatePartBlock.attributes;\r\n\t\t\t\tconst templatePartEntityId = createTemplatePartId(\r\n\t\t\t\t\ttheme,\r\n\t\t\t\t\tslug\r\n\t\t\t\t);\r\n\t\t\t\tconst templatePartEntity = getEditedEntityRecord(\r\n\t\t\t\t\t'postType',\r\n\t\t\t\t\t'wp_template_part',\r\n\t\t\t\t\ttemplatePartEntityId\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Look up the `label` for the area in the defined areas so\r\n\t\t\t\t// that an internationalized label can be used.\r\n\t\t\t\tif (templatePartEntity?.area) {\r\n\t\t\t\t\treturn definedAreas.find(\r\n\t\t\t\t\t\t(definedArea) =>\r\n\t\t\t\t\t\t\tdefinedArea.area !== 'uncategorized' &&\r\n\t\t\t\t\t\t\tdefinedArea.area === templatePartEntity.area\r\n\t\t\t\t\t)?.label;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[clientId]\r\n\t);\r\n}\r\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"a11y\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkextra_blocks\"] = self[\"webpackChunkextra_blocks\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], function() { return __webpack_require__(\"./mega-menu/index.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["classnames","noop","useState","useEffect","useRef","useCallback","Platform","InspectorControls","BlockControls","useBlockProps","__experimentalUseNoRecursiveRenders","useNoRecursiveRenders","store","blockEditorStore","withColors","PanelColorSettings","ContrastChecker","getColorClassName","Warning","EntityProvider","useEntityProp","useDispatch","useSelect","useRegistry","PanelBody","ToggleControl","ToolbarGroup","Button","Spinner","__","speak","useListViewModal","useNavigationMenu","useNavigationEntities","Placeholder","NavigationInnerBlocks","NavigationMenuSelector","NavigationMenuNameControl","UnsavedInnerBlocks","NavigationMenuDeleteControl","useNavigationNotice","useConvertClassicToBlockMenu","CLASSIC_MENU_CONVERSION_ERROR","CLASSIC_MENU_CONVERSION_PENDING","CLASSIC_MENU_CONVERSION_SUCCESS","useCreateNavigationMenu","CREATE_NAVIGATION_MENU_ERROR","CREATE_NAVIGATION_MENU_PENDING","CREATE_NAVIGATION_MENU_SUCCESS","EMPTY_ARRAY","getComputedStyle","node","ownerDocument","defaultView","detectColors","colorsDetectionElement","setColor","setBackground","color","backgroundColorNode","backgroundColor","parentNode","nodeType","ELEMENT_NODE","Navigation","attributes","setAttributes","clientId","isSelected","className","setBackgroundColor","textColor","setTextColor","context","navigationArea","hasSubmenuIndicatorSetting","hasColorSettings","customPlaceholder","CustomPlaceholder","openSubmenusOnClick","showSubmenuIcon","layout","justifyContent","orientation","flexWrap","hasIcon","areaMenu","setAreaMenu","navigationAreaMenu","undefined","ref","registry","setRef","postId","hasAlreadyRendered","RecursionProvider","showNavigationMenuCreateNotice","hideNavigationMenuCreateNotice","name","create","createNavigationMenu","status","createNavigationMenuStatus","error","createNavigationMenuError","value","createNavigationMenuPost","isCreatingNavigationMenu","id","selectBlock","hasUncontrolledInnerBlocks","uncontrolledInnerBlocks","isInnerBlockSelected","hasSubmenus","select","getBlock","getBlocks","hasSelectedInnerBlock","_uncontrolledInnerBlocks","innerBlocks","_hasUncontrolledInnerBlocks","length","_controlledInnerBlocks","find","block","replaceInnerBlocks","__unstableMarkNextChangeAsNotPersistent","hasSavedUnsavedInnerBlocks","setHasSavedUnsavedInnerBlocks","isWithinUnassignedArea","isNavigationMenuResolved","isNavigationMenuMissing","navigationMenus","navigationMenu","canUserUpdateNavigationMenu","hasResolvedCanUserUpdateNavigationMenu","canUserDeleteNavigationMenu","hasResolvedCanUserDeleteNavigationMenu","canUserCreateNavigationMenu","isResolvingCanUserCreateNavigationMenu","hasResolvedCanUserCreateNavigationMenu","navRef","isDraftNavigationMenu","listViewToolbarButton","listViewModal","convert","classicMenuConversionStatus","classicMenuConversionError","classicMenuConversionResult","isConvertingClassicMenu","TagName","isPlaceholder","isEntityAvailable","isLoading","blockProps","class","slug","style","enableContrastChecking","OS","detectedBackgroundColor","setDetectedBackgroundColor","detectedColor","setDetectedColor","showClassicMenuConversionErrorNotice","hideClassicMenuConversionErrorNotice","handleUpdateMenu","menuId","current","subMenuElement","querySelector","showCantEditNotice","hideCantEditNotice","message","showCantCreateNotice","hideCantCreateNotice","handleSelectNavigation","navPostOrClassicMenu","isClassicMenu","hasOwnProperty","resetToEmptyBlock","batch","hasUnsavedBlocks","post","PlaceholderComponent","onChange","label","useEntityBlockEditor","useInnerBlocksProps","InnerBlocks","__experimentalBlockContentOverlay","BlockContentOverlay","useMemo","PlaceholderPreview","ALLOWED_BLOCKS","DEFAULT_BLOCK","LAYOUT","type","alignments","hasCustomPlaceholder","isImmediateParentOfSelectedBlock","selectedBlockHasDescendants","getClientIdsOfDescendants","getSelectedBlockClientId","selectedBlockId","blocks","onInput","shouldDirectInsert","every","parentOrChildHasSelection","placeholder","hasMenuItems","showPlaceholder","innerBlocksProps","allowedBlocks","__experimentalDefaultBlock","__experimentalDirectInsert","renderAppender","ButtonBlockAppender","templateLock","__experimentalLayout","Flex","FlexItem","Modal","coreStore","useEntityId","sprintf","onDelete","isConfirmModalVisible","setIsConfirmModalVisible","title","deleteEntityRecord","force","TextControl","updateTitle","MenuGroup","MenuItem","MenuItemsChoice","ToolbarDropdownMenu","decodeEntities","addQueryArgs","currentMenuId","onSelect","onCreateNew","showManageActions","actionLabel","toggleProps","createActionLabel","menus","classicMenus","canSwitchNavigationMenu","handleSelect","_onClose","selectedId","handleSelectClassic","menu","menuChoices","map","rendered","ariaLabel","hasNavigationMenus","hasClassicMenus","showNavigationMenus","showClassicMenus","hasManagePermissions","showSelectMenus","onClose","post_type","navigation","Icon","NavigationPlaceholder","onFinish","onCreateEmpty","isResolvingMenus","hasResolvedMenus","isResolvingActions","variant","iconPosition","isVisible","Disabled","useContext","EMPTY_OBJECT","DRAFT_MENU_PARAMS","per_page","onSave","hasSelection","isDisabled","Context","savingLock","isSaving","draftNavigationMenus","hasResolvedDraftNavigationMenus","getEntityRecords","hasFinishedResolution","isSavingEntityRecord","hasResolvedNavigationMenus","menuItemsToBlocks","CLASSIC_MENU_CONVERSION_IDLE","setStatus","setValue","setError","convertClassicMenuToBlockMenu","menuName","classicMenuItems","resolveSelect","getMenuItems","err","Error","cause","console","log","then","navMenu","catch","serialize","useGenerateDefaultNavigationTitle","CREATE_NAVIGATION_MENU_IDLE","saveEntityRecord","generateDefaultTitle","record","content","response","useTemplatePartAreaLabel","PUBLISHED_MENU_PARAMS","area","Promise","all","matchingMenuTitleCount","reduce","count","raw","startsWith","titleWithCount","__experimentalListView","ListView","ToolbarButton","listView","NavigationBlockListView","__experimentalFeatures","__unstableGetClientIdsTree","listViewRef","minHeight","setMinHeight","clientHeight","isModalOpen","setIsModalOpen","noticeStore","noticeRef","createWarningNotice","removeNotice","showNotice","customMsg","hideNotice","registerBlockType","icon","metadata","edit","save","example","url","sortBy","createBlock","parse","applyFilters","menuItems","menuTree","createDataTree","mapMenuItemsToBlocks","mapping","sortedItems","menuItem","menuItemToBlockAttributes","nestedBlocks","nestedMapping","children","blockType","menuItemTitleField","xfn","classes","attr_title","object","object_id","description","menuItemTypeField","target","kind","replace","join","trim","rel","opensInNewTab","dataset","relation","hashTable","Object","dataTree","data","push","__experimentalUseEntityRecords","useEntityRecords","usePageEntities","useMenuEntities","useMenuItemEntities","records","isResolving","hasResolved","hasMenus","hasResolvedMenuItems","hasSelectedMenu","menuItemsParameters","parent","order","orderby","pages","isResolvingPages","hasResolvedPages","hasPages","getEntityRecord","getEditedEntityRecord","canUser","navigationMenuSingleArgs","rawNavigationMenu","hasResolvedNavigationMenu","navigationMenuMultipleArgs","createTemplatePartId","theme","getBlockParentsByBlockName","withAscendingResults","parentTemplatePartClientIds","definedAreas","__experimentalGetDefaultTemplatePartAreas","templatePartClientId","templatePartBlock","templatePartEntityId","templatePartEntity","definedArea"],"sourceRoot":""}