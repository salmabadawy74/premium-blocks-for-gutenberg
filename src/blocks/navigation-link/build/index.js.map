{"version":3,"file":"index.js","mappings":"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;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA,2FAA2F,2DAA2D;UACtJ","sources":["webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/library/add-submenu.js","webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/library/category.js","webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/library/custom-link.js","webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/library/custom-post-type.js","webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/library/link.js","webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/library/page.js","webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/library/post-title.js","webpack://extra-blocks/./node_modules/@wordpress/icons/build-module/library/tag.js","webpack://extra-blocks/./navigation-link/edit.js","webpack://extra-blocks/./navigation-link/fallback-variations.js","webpack://extra-blocks/./navigation-link/hooks.js","webpack://extra-blocks/./navigation-link/index.js","webpack://extra-blocks/./navigation-link/save.js","webpack://extra-blocks/./navigation-link/transforms.js","webpack://extra-blocks/./node_modules/classnames/index.js","webpack://extra-blocks/./navigation-link/editor.scss","webpack://extra-blocks/./navigation-link/style.scss","webpack://extra-blocks/external window \"lodash\"","webpack://extra-blocks/external window [\"wp\",\"blockEditor\"]","webpack://extra-blocks/external window [\"wp\",\"blocks\"]","webpack://extra-blocks/external window [\"wp\",\"components\"]","webpack://extra-blocks/external window [\"wp\",\"coreData\"]","webpack://extra-blocks/external window [\"wp\",\"data\"]","webpack://extra-blocks/external window [\"wp\",\"dom\"]","webpack://extra-blocks/external window [\"wp\",\"element\"]","webpack://extra-blocks/external window [\"wp\",\"hooks\"]","webpack://extra-blocks/external window [\"wp\",\"i18n\"]","webpack://extra-blocks/external window [\"wp\",\"keycodes\"]","webpack://extra-blocks/external window [\"wp\",\"primitives\"]","webpack://extra-blocks/external window [\"wp\",\"url\"]","webpack://extra-blocks/webpack/bootstrap","webpack://extra-blocks/webpack/runtime/chunk loaded","webpack://extra-blocks/webpack/runtime/compat get default export","webpack://extra-blocks/webpack/runtime/define property getters","webpack://extra-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://extra-blocks/webpack/runtime/make namespace object","webpack://extra-blocks/webpack/runtime/jsonp chunk loading","webpack://extra-blocks/webpack/before-startup","webpack://extra-blocks/webpack/startup","webpack://extra-blocks/webpack/after-startup"],"sourcesContent":["import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst addSubmenu = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M2 12c0 3.6 2.4 5.5 6 5.5h.5V19l3-2.5-3-2.5v2H8c-2.5 0-4.5-1.5-4.5-4s2-4.5 4.5-4.5h3.5V6H8c-3.6 0-6 2.4-6 6zm19.5-1h-8v1.5h8V11zm0 5h-8v1.5h8V16zm0-10h-8v1.5h8V6z\"\n}));\nexport default addSubmenu;\n//# sourceMappingURL=add-submenu.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst category = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n}));\nexport default category;\n//# sourceMappingURL=category.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst customLink = createElement(SVG, {\n  xmlns: \"https://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M12.5 14.5h-1V16h1c2.2 0 4-1.8 4-4s-1.8-4-4-4h-1v1.5h1c1.4 0 2.5 1.1 2.5 2.5s-1.1 2.5-2.5 2.5zm-4 1.5v-1.5h-1C6.1 14.5 5 13.4 5 12s1.1-2.5 2.5-2.5h1V8h-1c-2.2 0-4 1.8-4 4s1.8 4 4 4h1zm-1-3.2h5v-1.5h-5v1.5zM18 4H9c-1.1 0-2 .9-2 2v.5h1.5V6c0-.3.2-.5.5-.5h9c.3 0 .5.2.5.5v12c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5v-.5H7v.5c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z\"\n}));\nexport default customLink;\n//# sourceMappingURL=custom-link.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst customPostType = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4zm.8-4l.7.7 2-2V12h1V9.2l2 2 .7-.7-2-2H12v-1H9.2l2-2-.7-.7-2 2V4h-1v2.8l-2-2-.7.7 2 2H4v1h2.8l-2 2z\"\n}));\nexport default customPostType;\n//# sourceMappingURL=custom-post-type.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst link = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M15.6 7.2H14v1.5h1.6c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7H14v1.5h1.6c2.8 0 5.2-2.3 5.2-5.2 0-2.9-2.3-5.2-5.2-5.2zM4.7 12.4c0-2 1.7-3.7 3.7-3.7H10V7.2H8.4c-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2H10v-1.5H8.4c-2 0-3.7-1.7-3.7-3.7zm4.6.9h5.3v-1.5H9.3v1.5z\"\n}));\nexport default link;\n//# sourceMappingURL=link.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst page = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z\"\n}));\nexport default page;\n//# sourceMappingURL=page.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nconst postTitle = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M4 14.5h16V16H4zM4 18.5h9V20H4zM4 4h3c2 0 3 .86 3 2.583 0 .891-.253 1.554-.76 1.988-.505.435-1.24.652-2.204.652H5.542V12H4V4zm2.855 4c.53 0 .924-.114 1.18-.343.266-.228.398-.579.398-1.051 0-.473-.132-.82-.397-1.04-.265-.229-.67-.343-1.217-.343H5.542V8h1.313z\"\n}));\nexport default postTitle;\n//# sourceMappingURL=post-title.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst tag = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M20.1 11.2l-6.7-6.7c-.1-.1-.3-.2-.5-.2H5c-.4-.1-.8.3-.8.7v7.8c0 .2.1.4.2.5l6.7 6.7c.2.2.5.4.7.5s.6.2.9.2c.3 0 .6-.1.9-.2.3-.1.5-.3.8-.5l5.6-5.6c.4-.4.7-1 .7-1.6.1-.6-.2-1.2-.6-1.6zM19 13.4L13.4 19c-.1.1-.2.1-.3.2-.2.1-.4.1-.6 0-.1 0-.2-.1-.3-.2l-6.5-6.5V5.8h6.8l6.5 6.5c.2.2.2.4.2.6 0 .1 0 .3-.2.5zM9 8c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z\"\n}));\nexport default tag;\n//# sourceMappingURL=tag.js.map","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\nimport { escape } from 'lodash';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock, switchToBlockType } from '@wordpress/blocks';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport {\r\n\tButton,\r\n\tPanelBody,\r\n\tPopover,\r\n\tTextControl,\r\n\tTextareaControl,\r\n\tToolbarButton,\r\n\tTooltip,\r\n\tToolbarGroup,\r\n\tToggleControl,\r\n} from '@wordpress/components';\r\nimport { displayShortcut, isKeyboardEvent, ENTER } from '@wordpress/keycodes';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport {\r\n\tBlockControls,\r\n\tBlockIcon,\r\n\tInspectorControls,\r\n\tRichText,\r\n\t__experimentalLinkControl as LinkControl,\r\n\tuseBlockProps,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { isURL, prependHTTP, safeDecodeURI } from '@wordpress/url';\r\nimport {\r\n\tFragment,\r\n\tuseState,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tcreateInterpolateElement,\r\n} from '@wordpress/element';\r\nimport { placeCaretAtHorizontalEdge } from '@wordpress/dom';\r\nimport { link as linkIcon, addSubmenu } from '@wordpress/icons';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { name } from './block.json';\r\n\r\nconst MAX_NESTING = 5;\r\n\r\n/**\r\n * A React hook to determine if it's dragging within the target element.\r\n *\r\n * @typedef {import('@wordpress/element').RefObject} RefObject\r\n *\r\n * @param {RefObject<HTMLElement>} elementRef The target elementRef object.\r\n *\r\n * @return {boolean} Is dragging within the target element.\r\n */\r\nconst useIsDraggingWithin = (elementRef) => {\r\n\tconst [isDraggingWithin, setIsDraggingWithin] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { ownerDocument } = elementRef.current;\r\n\r\n\t\tfunction handleDragStart(event) {\r\n\t\t\t// Check the first time when the dragging starts.\r\n\t\t\thandleDragEnter(event);\r\n\t\t}\r\n\r\n\t\t// Set to false whenever the user cancel the drag event by either releasing the mouse or press Escape.\r\n\t\tfunction handleDragEnd() {\r\n\t\t\tsetIsDraggingWithin(false);\r\n\t\t}\r\n\r\n\t\tfunction handleDragEnter(event) {\r\n\t\t\t// Check if the current target is inside the item element.\r\n\t\t\tif (elementRef.current.contains(event.target)) {\r\n\t\t\t\tsetIsDraggingWithin(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetIsDraggingWithin(false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Bind these events to the document to catch all drag events.\r\n\t\t// Ideally, we can also use `event.relatedTarget`, but sadly that\r\n\t\t// doesn't work in Safari.\r\n\t\townerDocument.addEventListener('dragstart', handleDragStart);\r\n\t\townerDocument.addEventListener('dragend', handleDragEnd);\r\n\t\townerDocument.addEventListener('dragenter', handleDragEnter);\r\n\r\n\t\treturn () => {\r\n\t\t\townerDocument.removeEventListener('dragstart', handleDragStart);\r\n\t\t\townerDocument.removeEventListener('dragend', handleDragEnd);\r\n\t\t\townerDocument.removeEventListener('dragenter', handleDragEnter);\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn isDraggingWithin;\r\n};\r\n\r\n/**\r\n * Given the Link block's type attribute, return the query params to give to\r\n * /wp/v2/search.\r\n *\r\n * @param {string} type Link block's type attribute.\r\n * @param {string} kind Link block's entity of kind (post-type|taxonomy)\r\n * @return {{ type?: string, subtype?: string }} Search query params.\r\n */\r\nfunction getSuggestionsQuery(type, kind) {\r\n\tswitch (type) {\r\n\t\tcase 'post':\r\n\t\tcase 'page':\r\n\t\t\treturn { type: 'post', subtype: type };\r\n\t\tcase 'category':\r\n\t\t\treturn { type: 'term', subtype: 'category' };\r\n\t\tcase 'tag':\r\n\t\t\treturn { type: 'term', subtype: 'post_tag' };\r\n\t\tcase 'post_format':\r\n\t\t\treturn { type: 'post-format' };\r\n\t\tdefault:\r\n\t\t\tif (kind === 'taxonomy') {\r\n\t\t\t\treturn { type: 'term', subtype: type };\r\n\t\t\t}\r\n\t\t\tif (kind === 'post-type') {\r\n\t\t\t\treturn { type: 'post', subtype: type };\r\n\t\t\t}\r\n\t\t\treturn {};\r\n\t}\r\n}\r\n\r\n/**\r\n * @typedef {'post-type'|'custom'|'taxonomy'|'post-type-archive'} WPNavigationLinkKind\r\n */\r\n\r\n/**\r\n * Navigation Link Block Attributes\r\n *\r\n * @typedef {Object} WPNavigationLinkBlockAttributes\r\n *\r\n * @property {string}               [label]         Link text.\r\n * @property {WPNavigationLinkKind} [kind]          Kind is used to differentiate between term and post ids to check post draft status.\r\n * @property {string}               [type]          The type such as post, page, tag, category and other custom types.\r\n * @property {string}               [rel]           The relationship of the linked URL.\r\n * @property {number}               [id]            A post or term id.\r\n * @property {boolean}              [opensInNewTab] Sets link target to _blank when true.\r\n * @property {string}               [url]           Link href.\r\n * @property {string}               [title]         Link title attribute.\r\n */\r\n\r\n/**\r\n * Link Control onChange handler that updates block attributes when a setting is changed.\r\n *\r\n * @param {Object}                          updatedValue    New block attributes to update.\r\n * @param {Function}                        setAttributes   Block attribute update function.\r\n * @param {WPNavigationLinkBlockAttributes} blockAttributes Current block attributes.\r\n *\r\n */\r\nexport const updateNavigationLinkBlockAttributes = (\r\n\tupdatedValue = {},\r\n\tsetAttributes,\r\n\tblockAttributes = {}\r\n) => {\r\n\tconst {\r\n\t\tlabel: originalLabel = '',\r\n\t\tkind: originalKind = '',\r\n\t\ttype: originalType = '',\r\n\t} = blockAttributes;\r\n\r\n\tconst {\r\n\t\ttitle = '', // the title of any provided Post.\r\n\t\turl = '',\r\n\r\n\t\topensInNewTab,\r\n\t\tid,\r\n\t\tkind: newKind = originalKind,\r\n\t\ttype: newType = originalType,\r\n\t} = updatedValue;\r\n\tconst normalizedTitle = title.replace(/http(s?):\\/\\//gi, '');\r\n\tconst normalizedURL = url.replace(/http(s?):\\/\\//gi, '');\r\n\tconst escapeTitle =\r\n\t\ttitle !== '' &&\r\n\t\tnormalizedTitle !== normalizedURL &&\r\n\t\toriginalLabel !== title;\r\n\r\n\tconst label = escapeTitle\r\n\t\t? escape(title)\r\n\t\t: originalLabel || escape(normalizedURL);\r\n\r\n\t// In https://github.com/WordPress/gutenberg/pull/24670 we decided to use \"tag\" in favor of \"post_tag\"\r\n\tconst type = newType === 'post_tag' ? 'tag' : newType.replace('-', '_');\r\n\r\n\tconst isBuiltInType =\r\n\t\t['post', 'page', 'tag', 'category'].indexOf(type) > -1;\r\n\r\n\tconst isCustomLink =\r\n\t\t(!newKind && !isBuiltInType) || newKind === 'custom';\r\n\tconst kind = isCustomLink ? 'custom' : newKind;\r\n\r\n\tsetAttributes({\r\n\t\t// Passed `url` may already be encoded. To prevent double encoding, decodeURI is executed to revert to the original string.\r\n\t\t...(url && { url: encodeURI(safeDecodeURI(url)) }),\r\n\t\t...(label && { label }),\r\n\t\t...(undefined !== opensInNewTab && { opensInNewTab }),\r\n\t\t...(id && Number.isInteger(id) && { id }),\r\n\t\t...(kind && { kind }),\r\n\t\t...(type && type !== 'URL' && { type }),\r\n\t});\r\n};\r\n\r\n/**\r\n * Removes HTML from a given string.\r\n * Note the does not provide XSS protection or otherwise attempt\r\n * to filter strings with malicious intent.\r\n *\r\n * See also: https://github.com/WordPress/gutenberg/pull/35539\r\n *\r\n * @param {string} html the string from which HTML should be removed.\r\n * @return {string} the \"cleaned\" string.\r\n */\r\nfunction navStripHTML(html) {\r\n\tconst doc = document.implementation.createHTMLDocument('');\r\n\tdoc.body.innerHTML = html;\r\n\treturn doc.body.textContent || '';\r\n}\r\n\r\n/**\r\n * Add transforms to Link Control\r\n */\r\n\r\nfunction LinkControlTransforms({ block, transforms, replace }) {\r\n\tif (!transforms?.length) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"link-control-transform\">\r\n\t\t\t<h3 className=\"link-control-transform__subheading\">\r\n\t\t\t\t{__('Transform')}\r\n\t\t\t</h3>\r\n\t\t\t<div className=\"link-control-transform__items\">\r\n\t\t\t\t{transforms.map((item, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tkey={`transform-${index}`}\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\treplace(\r\n\t\t\t\t\t\t\t\t\tblock.clientId,\r\n\t\t\t\t\t\t\t\t\tswitchToBlockType(block, item.name)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"link-control-transform__item\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<BlockIcon icon={item.icon} />\r\n\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default function NavigationLinkEdit({\r\n\tattributes,\r\n\tisSelected,\r\n\tsetAttributes,\r\n\tinsertBlocksAfter,\r\n\tmergeBlocks,\r\n\tonReplace,\r\n\tcontext,\r\n\tclientId,\r\n}) {\r\n\tconst {\r\n\t\tlabel,\r\n\t\ttype,\r\n\t\topensInNewTab,\r\n\t\turl,\r\n\t\tdescription,\r\n\t\trel,\r\n\t\ttitle,\r\n\t\tkind,\r\n\t\tmakeHeading\r\n\t} = attributes;\r\n\tconst { megaMenu, overlayMenu } = context;\r\n\r\n\tconst link = {\r\n\t\turl,\r\n\t\topensInNewTab,\r\n\t\ttitle: label && navStripHTML(label), // don't allow HTML to display inside the <LinkControl>\r\n\t};\r\n\tconst { saveEntityRecord } = useDispatch(coreStore);\r\n\tconst {\r\n\t\treplaceBlock,\r\n\t\t__unstableMarkNextChangeAsNotPersistent,\r\n\t} = useDispatch(blockEditorStore);\r\n\tconst [isLinkOpen, setIsLinkOpen] = useState(false);\r\n\tconst listItemRef = useRef(null);\r\n\tconst isDraggingWithin = useIsDraggingWithin(listItemRef);\r\n\tconst itemLabelPlaceholder = __('Add linkâ€¦');\r\n\tconst ref = useRef();\r\n\r\n\tconst {\r\n\t\tinnerBlocks,\r\n\t\tisAtMaxNesting,\r\n\t\tisTopLevelLink,\r\n\t\tisParentOfSelectedBlock,\r\n\t\thasDescendants,\r\n\t\tuserCanCreatePages,\r\n\t\tuserCanCreatePosts,\r\n\t\tthisBlock,\r\n\t\tblockTransforms,\r\n\t} = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst {\r\n\t\t\t\tgetBlock,\r\n\t\t\t\tgetBlocks,\r\n\t\t\t\tgetBlockName,\r\n\t\t\t\tgetBlockRootClientId,\r\n\t\t\t\tgetClientIdsOfDescendants,\r\n\t\t\t\thasSelectedInnerBlock,\r\n\t\t\t\tgetSelectedBlockClientId,\r\n\t\t\t\tgetBlockParentsByBlockName,\r\n\t\t\t\tgetBlockTransformItems,\r\n\t\t\t} = select(blockEditorStore);\r\n\r\n\t\t\tconst selectedBlockId = getSelectedBlockClientId();\r\n\r\n\t\t\tconst descendants = getClientIdsOfDescendants([clientId])\r\n\t\t\t\t.length;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tinnerBlocks: getBlocks(clientId),\r\n\t\t\t\tisAtMaxNesting:\r\n\t\t\t\t\tgetBlockParentsByBlockName(clientId, [\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t'premium/navigation-submenu',\r\n\t\t\t\t\t]).length >= MAX_NESTING,\r\n\t\t\t\tisTopLevelLink:\r\n\t\t\t\t\tgetBlockName(getBlockRootClientId(clientId)) ===\r\n\t\t\t\t\t'premium/navigation',\r\n\t\t\t\tisParentOfSelectedBlock: hasSelectedInnerBlock(\r\n\t\t\t\t\tclientId,\r\n\t\t\t\t\ttrue\r\n\t\t\t\t),\r\n\t\t\t\tisImmediateParentOfSelectedBlock: hasSelectedInnerBlock(\r\n\t\t\t\t\tclientId,\r\n\t\t\t\t\tfalse\r\n\t\t\t\t),\r\n\t\t\t\thasDescendants: !!descendants,\r\n\t\t\t\tselectedBlockHasDescendants: !!getClientIdsOfDescendants([\r\n\t\t\t\t\tselectedBlockId,\r\n\t\t\t\t])?.length,\r\n\t\t\t\tuserCanCreatePages: select(coreStore).canUser(\r\n\t\t\t\t\t'create',\r\n\t\t\t\t\t'pages'\r\n\t\t\t\t),\r\n\t\t\t\tuserCanCreatePosts: select(coreStore).canUser(\r\n\t\t\t\t\t'create',\r\n\t\t\t\t\t'posts'\r\n\t\t\t\t),\r\n\t\t\t\tthisBlock: getBlock(clientId),\r\n\t\t\t\tblockTransforms: getBlockTransformItems(\r\n\t\t\t\t\t[getBlock(clientId)],\r\n\t\t\t\t\tgetBlockRootClientId(clientId)\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[clientId]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\t// This side-effect should not create an undo level as those should\r\n\t\t// only be created via user interactions. Mark this change as\r\n\t\t// not persistent to avoid undo level creation.\r\n\t\t// See https://github.com/WordPress/gutenberg/issues/34564.\r\n\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\tsetAttributes({ isTopLevelLink });\r\n\t}, [isTopLevelLink]);\r\n\r\n\t/**\r\n\t * Transform to submenu block.\r\n\t */\r\n\tfunction transformToSubmenu() {\r\n\t\tconst newSubmenu = createBlock(\r\n\t\t\t'premium/navigation-submenu',\r\n\t\t\tattributes,\r\n\t\t\tinnerBlocks\r\n\t\t);\r\n\t\treplaceBlock(clientId, newSubmenu);\r\n\t}\r\n\r\n\tconst featuredBlocks = [\r\n\t\t'core/site-logo',\r\n\t\t'core/social-links',\r\n\t\t'core/search',\r\n\t];\r\n\tconst featuredTransforms = blockTransforms.filter((item) => {\r\n\t\treturn featuredBlocks.includes(item.name);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\t// Show the LinkControl on mount if the URL is empty\r\n\t\t// ( When adding a new menu item)\r\n\t\t// This can't be done in the useState call because it conflicts\r\n\t\t// with the autofocus behavior of the BlockListBlock component.\r\n\t\tif (!url) {\r\n\t\t\tsetIsLinkOpen(true);\r\n\t\t}\r\n\t\t// If block has inner blocks, transform to Submenu.\r\n\t\tif (hasDescendants) {\r\n\t\t\ttransformToSubmenu();\r\n\t\t}\r\n\t}, []);\r\n\r\n\t/**\r\n\t * The hook shouldn't be necessary but due to a focus loss happening\r\n\t * when selecting a suggestion in the link popover, we force close on block unselection.\r\n\t */\r\n\tuseEffect(() => {\r\n\t\tif (!isSelected) {\r\n\t\t\tsetIsLinkOpen(false);\r\n\t\t}\r\n\t}, [isSelected]);\r\n\r\n\t// If the LinkControl popover is open and the URL has changed, close the LinkControl and focus the label text.\r\n\tuseEffect(() => {\r\n\t\tif (isLinkOpen && url) {\r\n\t\t\t// Does this look like a URL and have something TLD-ish?\r\n\t\t\tif (\r\n\t\t\t\tisURL(prependHTTP(label)) &&\r\n\t\t\t\t/^.+\\.[a-z]+/.test(label)\r\n\t\t\t) {\r\n\t\t\t\t// Focus and select the label text.\r\n\t\t\t\tselectLabelText();\r\n\t\t\t} else {\r\n\t\t\t\t// Focus it (but do not select).\r\n\t\t\t\tplaceCaretAtHorizontalEdge(ref.current, true);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [url]);\r\n\r\n\t/**\r\n\t * Focus the Link label text and select it.\r\n\t */\r\n\tfunction selectLabelText() {\r\n\t\tref.current.focus();\r\n\t\tconst { ownerDocument } = ref.current;\r\n\t\tconst { defaultView } = ownerDocument;\r\n\t\tconst selection = defaultView.getSelection();\r\n\t\tconst range = ownerDocument.createRange();\r\n\t\t// Get the range of the current ref contents so we can add this range to the selection.\r\n\t\trange.selectNodeContents(ref.current);\r\n\t\tselection.removeAllRanges();\r\n\t\tselection.addRange(range);\r\n\t}\r\n\r\n\t/**\r\n\t * Removes the current link if set.\r\n\t */\r\n\tfunction removeLink() {\r\n\t\t// Reset all attributes that comprise the link.\r\n\t\tsetAttributes({\r\n\t\t\turl: '',\r\n\t\t\tlabel: '',\r\n\t\t\tid: '',\r\n\t\t\tkind: '',\r\n\t\t\ttype: '',\r\n\t\t});\r\n\r\n\t\t// Close the link editing UI.\r\n\t\tsetIsLinkOpen(false);\r\n\t}\r\n\r\n\tlet userCanCreate = false;\r\n\tif (!type || type === 'page') {\r\n\t\tuserCanCreate = userCanCreatePages;\r\n\t} else if (type === 'post') {\r\n\t\tuserCanCreate = userCanCreatePosts;\r\n\t}\r\n\r\n\tasync function handleCreate(pageTitle) {\r\n\t\tconst postType = type || 'page';\r\n\r\n\t\tconst page = await saveEntityRecord('postType', postType, {\r\n\t\t\ttitle: pageTitle,\r\n\t\t\tstatus: 'draft',\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tid: page.id,\r\n\t\t\ttype: postType,\r\n\t\t\ttitle: page.title.rendered,\r\n\t\t\turl: page.link,\r\n\t\t\tkind: 'post-type',\r\n\t\t};\r\n\t}\r\n\r\n\t// console.log(context);\r\n\tfunction onKeyDown(event) {\r\n\t\tif (\r\n\t\t\tisKeyboardEvent.primary(event, 'k') ||\r\n\t\t\t(!url && event.keyCode === ENTER)\r\n\t\t) {\r\n\t\t\tsetIsLinkOpen(true);\r\n\t\t}\r\n\t}\r\n\r\n\tconst blockProps = useBlockProps({\r\n\t\tref: listItemRef,\r\n\t\tclassName: classnames('premium-navigation-item', {\r\n\t\t\t'is-editing': isSelected || isParentOfSelectedBlock,\r\n\t\t\t'is-dragging-within': isDraggingWithin,\r\n\t\t\t'has-link': !!url,\r\n\t\t\t'has-child': hasDescendants,\r\n\t\t\t'heading-item': makeHeading && overlayMenu !== 'always',\r\n\t\t}),\r\n\t\tstyle: {\r\n\t\t},\r\n\t\tonKeyDown,\r\n\t});\r\n\r\n\tif (!url) {\r\n\t\tblockProps.onClick = () => setIsLinkOpen(true);\r\n\t}\r\n\r\n\tconst classes = classnames('premium-navigation-item__content', {\r\n\t\t'premium-navigation-link__placeholder': !url,\r\n\t});\r\n\r\n\tlet missingText = '';\r\n\tswitch (type) {\r\n\t\tcase 'post':\r\n\t\t\t/* translators: label for missing post in navigation link block */\r\n\t\t\tmissingText = __('Select post');\r\n\t\t\tbreak;\r\n\t\tcase 'page':\r\n\t\t\t/* translators: label for missing page in navigation link block */\r\n\t\t\tmissingText = __('Select page');\r\n\t\t\tbreak;\r\n\t\tcase 'category':\r\n\t\t\t/* translators: label for missing category in navigation link block */\r\n\t\t\tmissingText = __('Select category');\r\n\t\t\tbreak;\r\n\t\tcase 'tag':\r\n\t\t\t/* translators: label for missing tag in navigation link block */\r\n\t\t\tmissingText = __('Select tag');\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\t/* translators: label for missing values in navigation link block */\r\n\t\t\tmissingText = __('Add link');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\tname=\"link\"\r\n\t\t\t\t\t\ticon={linkIcon}\r\n\t\t\t\t\t\ttitle={__('Link')}\r\n\t\t\t\t\t\tshortcut={displayShortcut.primary('k')}\r\n\t\t\t\t\t\tonClick={() => setIsLinkOpen(true)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{!isAtMaxNesting && (\r\n\t\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\t\tname=\"submenu\"\r\n\t\t\t\t\t\t\ticon={addSubmenu}\r\n\t\t\t\t\t\t\ttitle={__('Add submenu')}\r\n\t\t\t\t\t\t\tonClick={transformToSubmenu}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ToolbarGroup>\r\n\t\t\t</BlockControls>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={__('Link settings')}>\r\n\t\t\t\t\t{megaMenu && overlayMenu !== 'always' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{<ToggleControl\r\n\t\t\t\t\t\t\t\tlabel={__(\"Make This Item As Column Heading\", 'premium-blocks-for-gutenberg')}\r\n\t\t\t\t\t\t\t\tchecked={makeHeading}\r\n\t\t\t\t\t\t\t\tonChange={check => setAttributes({ makeHeading: check })}\r\n\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<TextareaControl\r\n\t\t\t\t\t\tvalue={description || ''}\r\n\t\t\t\t\t\tonChange={(descriptionValue) => {\r\n\t\t\t\t\t\t\tsetAttributes({ description: descriptionValue });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlabel={__('Description')}\r\n\t\t\t\t\t\thelp={__(\r\n\t\t\t\t\t\t\t'The description will be displayed in the menu if the current theme supports it.'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tvalue={title || ''}\r\n\t\t\t\t\t\tonChange={(titleValue) => {\r\n\t\t\t\t\t\t\tsetAttributes({ title: titleValue });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlabel={__('Link title')}\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tvalue={rel || ''}\r\n\t\t\t\t\t\tonChange={(relValue) => {\r\n\t\t\t\t\t\t\tsetAttributes({ rel: relValue });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlabel={__('Link rel')}\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div {...blockProps}>\r\n\t\t\t\t{ /* eslint-disable jsx-a11y/anchor-is-valid */}\r\n\t\t\t\t<a className={classes}>\r\n\t\t\t\t\t{ /* eslint-enable */}\r\n\t\t\t\t\t{!url ? (\r\n\t\t\t\t\t\t<div className=\"premium-navigation-link__placeholder-text\">\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\tposition=\"top center\"\r\n\t\t\t\t\t\t\t\ttext={__('This item is missing a link')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span>{missingText}</span>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<RichText\r\n\t\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\t\tidentifier=\"label\"\r\n\t\t\t\t\t\t\tclassName=\"premium-navigation-item__label\"\r\n\t\t\t\t\t\t\tvalue={label}\r\n\t\t\t\t\t\t\tonChange={(labelValue) =>\r\n\t\t\t\t\t\t\t\tsetAttributes({\r\n\t\t\t\t\t\t\t\t\tlabel: labelValue,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonMerge={mergeBlocks}\r\n\t\t\t\t\t\t\tonReplace={onReplace}\r\n\t\t\t\t\t\t\t__unstableOnSplitAtEnd={() =>\r\n\t\t\t\t\t\t\t\tinsertBlocksAfter(\r\n\t\t\t\t\t\t\t\t\tcreateBlock('premium/navigation-link')\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\taria-label={__('Navigation link text')}\r\n\t\t\t\t\t\t\tplaceholder={itemLabelPlaceholder}\r\n\t\t\t\t\t\t\twithoutInteractiveFormatting\r\n\t\t\t\t\t\t\tallowedFormats={[\r\n\t\t\t\t\t\t\t\t'core/bold',\r\n\t\t\t\t\t\t\t\t'core/italic',\r\n\t\t\t\t\t\t\t\t'core/image',\r\n\t\t\t\t\t\t\t\t'core/strikethrough',\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tif (!url) {\r\n\t\t\t\t\t\t\t\t\tsetIsLinkOpen(true);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isLinkOpen && (\r\n\t\t\t\t\t\t<Popover\r\n\t\t\t\t\t\t\tposition=\"bottom center\"\r\n\t\t\t\t\t\t\tonClose={() => setIsLinkOpen(false)}\r\n\t\t\t\t\t\t\tanchorRef={listItemRef.current}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LinkControl\r\n\t\t\t\t\t\t\t\thasTextControl\r\n\t\t\t\t\t\t\t\thasRichPreviews\r\n\t\t\t\t\t\t\t\tclassName=\"premium-navigation-link__inline-link-input\"\r\n\t\t\t\t\t\t\t\tvalue={link}\r\n\t\t\t\t\t\t\t\tshowInitialSuggestions={true}\r\n\t\t\t\t\t\t\t\twithCreateSuggestion={userCanCreate}\r\n\t\t\t\t\t\t\t\tcreateSuggestion={handleCreate}\r\n\t\t\t\t\t\t\t\tcreateSuggestionButtonText={(searchTerm) => {\r\n\t\t\t\t\t\t\t\t\tlet format;\r\n\t\t\t\t\t\t\t\t\tif (type === 'post') {\r\n\t\t\t\t\t\t\t\t\t\t/* translators: %s: search term. */\r\n\t\t\t\t\t\t\t\t\t\tformat = __(\r\n\t\t\t\t\t\t\t\t\t\t\t'Create draft post: <mark>%s</mark>'\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t/* translators: %s: search term. */\r\n\t\t\t\t\t\t\t\t\t\tformat = __(\r\n\t\t\t\t\t\t\t\t\t\t\t'Create draft page: <mark>%s</mark>'\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn createInterpolateElement(\r\n\t\t\t\t\t\t\t\t\t\tsprintf(format, searchTerm),\r\n\t\t\t\t\t\t\t\t\t\t{ mark: <mark /> }\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tnoDirectEntry={!!type}\r\n\t\t\t\t\t\t\t\tnoURLSuggestion={!!type}\r\n\t\t\t\t\t\t\t\tsuggestionsQuery={getSuggestionsQuery(\r\n\t\t\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\t\t\tkind\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\tonChange={(updatedValue) =>\r\n\t\t\t\t\t\t\t\t\tupdateNavigationLinkBlockAttributes(\r\n\t\t\t\t\t\t\t\t\t\tupdatedValue,\r\n\t\t\t\t\t\t\t\t\t\tsetAttributes,\r\n\t\t\t\t\t\t\t\t\t\tattributes\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonRemove={removeLink}\r\n\t\t\t\t\t\t\t\trenderControlBottom={\r\n\t\t\t\t\t\t\t\t\t!url\r\n\t\t\t\t\t\t\t\t\t\t? () => (\r\n\t\t\t\t\t\t\t\t\t\t\t<LinkControlTransforms\r\n\t\t\t\t\t\t\t\t\t\t\t\tblock={thisBlock}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransforms={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfeaturedTransforms\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\treplace={replaceBlock}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tcategory as categoryIcon,\r\n\tpage as pageIcon,\r\n\tpostTitle as postIcon,\r\n\ttag as tagIcon,\r\n} from '@wordpress/icons';\r\n\r\n// FALLBACK: this is only used when the server does not understand the variations property in the\r\n// register_block_type call. see navigation-link/index.php.\r\n// Delete this file when supported WP ranges understand the `variations` property when passed to\r\n// register_block_type in index.php.\r\nconst fallbackVariations = [\r\n\t{\r\n\t\tname: 'link',\r\n\t\tisDefault: true,\r\n\t\ttitle: __( 'Custom Link' ),\r\n\t\tdescription: __( 'A link to a custom URL.' ),\r\n\t\tattributes: {},\r\n\t},\r\n\t{\r\n\t\tname: 'post',\r\n\t\ticon: postIcon,\r\n\t\ttitle: __( 'Post Link' ),\r\n\t\tdescription: __( 'A link to a post.' ),\r\n\t\tattributes: { type: 'post', kind: 'post-type' },\r\n\t},\r\n\t{\r\n\t\tname: 'page',\r\n\t\ticon: pageIcon,\r\n\t\ttitle: __( 'Page Link' ),\r\n\t\tdescription: __( 'A link to a page.' ),\r\n\t\tattributes: { type: 'page', kind: 'post-type' },\r\n\t},\r\n\t{\r\n\t\tname: 'category',\r\n\t\ticon: categoryIcon,\r\n\t\ttitle: __( 'Category Link' ),\r\n\t\tdescription: __( 'A link to a category.' ),\r\n\t\tattributes: { type: 'category', kind: 'taxonomy' },\r\n\t},\r\n\t{\r\n\t\tname: 'tag',\r\n\t\ticon: tagIcon,\r\n\t\ttitle: __( 'Tag Link' ),\r\n\t\tdescription: __( 'A link to a tag.' ),\r\n\t\tattributes: { type: 'tag', kind: 'taxonomy' },\r\n\t},\r\n];\r\n\r\n/**\r\n * Add `isActive` function to all `navigation link` variations, if not defined.\r\n * `isActive` function is used to find a variation match from a created\r\n *  Block by providing its attributes.\r\n */\r\nfallbackVariations.forEach( ( variation ) => {\r\n\tif ( variation.isActive ) return;\r\n\tvariation.isActive = ( blockAttributes, variationAttributes ) =>\r\n\t\tblockAttributes.type === variationAttributes.type;\r\n} );\r\n\r\nexport default fallbackVariations;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tcategory,\r\n\tpage,\r\n\tpostTitle,\r\n\ttag,\r\n\tcustomPostType,\r\n} from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport fallbackVariations from './fallback-variations';\r\n\r\nfunction getIcon(variationName) {\r\n\tswitch (variationName) {\r\n\t\tcase 'post':\r\n\t\t\treturn postTitle;\r\n\t\tcase 'page':\r\n\t\t\treturn page;\r\n\t\tcase 'tag':\r\n\t\t\treturn tag;\r\n\t\tcase 'category':\r\n\t\t\treturn category;\r\n\t\tdefault:\r\n\t\t\treturn customPostType;\r\n\t}\r\n}\r\n\r\nexport function enhanceNavigationLinkVariations(settings, name) {\r\n\tif (name !== 'premium/navigation-link') {\r\n\t\treturn settings;\r\n\t}\r\n\r\n\t// Fallback handling may be deleted after supported WP ranges understand the `variations`\r\n\t// property when passed to register_block_type in index.php.\r\n\tif (!settings.variations) {\r\n\t\treturn {\r\n\t\t\t...settings,\r\n\t\t\tvariations: fallbackVariations,\r\n\t\t};\r\n\t}\r\n\r\n\t// Otherwise decorate server passed variations with an icon and isActive function.\r\n\tif (settings.variations) {\r\n\t\tconst isActive = (blockAttributes, variationAttributes) => {\r\n\t\t\treturn blockAttributes.type === variationAttributes.type;\r\n\t\t};\r\n\t\tconst variations = settings.variations.map((variation) => {\r\n\t\t\treturn {\r\n\t\t\t\t...variation,\r\n\t\t\t\t...(!variation.icon && {\r\n\t\t\t\t\ticon: getIcon(variation.name),\r\n\t\t\t\t}),\r\n\t\t\t\t...(!variation.isActive && {\r\n\t\t\t\t\tisActive,\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\t});\r\n\t\treturn {\r\n\t\t\t...settings,\r\n\t\t\tvariations,\r\n\t\t};\r\n\t}\r\n\treturn settings;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { _x } from '@wordpress/i18n';\r\nimport { customLink as linkIcon } from '@wordpress/icons';\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\nimport { addFilter } from '@wordpress/hooks';\r\nimport { registerBlockType } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport { enhanceNavigationLinkVariations } from './hooks';\r\nimport transforms from './transforms';\r\nimport './editor.scss';\r\nimport './style.scss';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nregisterBlockType(name, {\r\n\ticon: linkIcon,\r\n\r\n\t__experimentalLabel: ({ label }) => label,\r\n\r\n\tmerge(leftAttributes, { label: rightLabel = '' }) {\r\n\t\treturn {\r\n\t\t\t...leftAttributes,\r\n\t\t\tlabel: leftAttributes.label + rightLabel,\r\n\t\t};\r\n\t},\r\n\r\n\tedit,\r\n\r\n\tsave,\r\n\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tlabel: _x('Example Link', 'navigation link preview example'),\r\n\t\t\turl: 'https://example.com',\r\n\t\t},\r\n\t},\r\n\r\n\tdeprecated: [\r\n\t\t{\r\n\t\t\tisEligible(attributes) {\r\n\t\t\t\treturn attributes.nofollow;\r\n\t\t\t},\r\n\r\n\t\t\tattributes: {\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t},\r\n\t\t\t\ttype: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t},\r\n\t\t\t\tnofollow: {\r\n\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t},\r\n\t\t\t\tdescription: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t},\r\n\t\t\t\tid: {\r\n\t\t\t\t\ttype: 'number',\r\n\t\t\t\t},\r\n\t\t\t\topensInNewTab: {\r\n\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\tdefault: false,\r\n\t\t\t\t},\r\n\t\t\t\turl: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\r\n\t\t\tmigrate({ nofollow, ...rest }) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\trel: nofollow ? 'nofollow' : '',\r\n\t\t\t\t\t...rest,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\tsave() {\r\n\t\t\t\treturn <InnerBlocks.Content />;\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\ttransforms,\r\n});\r\n\r\n\r\n// importing this file includes side effects. This is whitelisted in block-library/package.json under sideEffects\r\naddFilter(\r\n\t'blocks.registerBlockType',\r\n\t'premium/navigation-link',\r\n\tenhanceNavigationLinkVariations\r\n);\r\n\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function save() {\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['core/site-logo'],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock('premium/navigation-link');\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['core/spacer'],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock('premium/navigation-link');\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['core/home-link'],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock('premium/navigation-link');\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['core/social-links'],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock('premium/navigation-link');\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['core/search'],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock('premium/navigation-link');\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['premium/navigation-submenu'],\r\n\t\t\ttransform: (attributes, innerBlocks) =>\r\n\t\t\t\tcreateBlock(\r\n\t\t\t\t\t'premium/navigation-submenu',\r\n\t\t\t\t\tattributes,\r\n\t\t\t\t\tinnerBlocks\r\n\t\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['core/spacer'],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock('core/spacer');\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['core/site-logo'],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock('core/site-logo');\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['core/home-link'],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock('core/home-link');\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['core/social-links'],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock('core/social-links');\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: ['core/search'],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock('core/search', {\r\n\t\t\t\t\tshowLabel: false,\r\n\t\t\t\t\tbuttonUseIcon: true,\r\n\t\t\t\t\tbuttonPosition: 'button-inside',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"dom\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"keycodes\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkextra_blocks\"] = self[\"webpackChunkextra_blocks\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], function() { return __webpack_require__(\"./navigation-link/index.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["classnames","escape","createBlock","switchToBlockType","useSelect","useDispatch","Button","PanelBody","Popover","TextControl","TextareaControl","ToolbarButton","Tooltip","ToolbarGroup","ToggleControl","displayShortcut","isKeyboardEvent","ENTER","__","sprintf","BlockControls","BlockIcon","InspectorControls","RichText","__experimentalLinkControl","LinkControl","useBlockProps","store","blockEditorStore","isURL","prependHTTP","safeDecodeURI","Fragment","useState","useEffect","useRef","createInterpolateElement","placeCaretAtHorizontalEdge","link","linkIcon","addSubmenu","coreStore","name","MAX_NESTING","useIsDraggingWithin","elementRef","isDraggingWithin","setIsDraggingWithin","ownerDocument","current","handleDragStart","event","handleDragEnter","handleDragEnd","contains","target","addEventListener","removeEventListener","getSuggestionsQuery","type","kind","subtype","updateNavigationLinkBlockAttributes","updatedValue","setAttributes","blockAttributes","label","originalLabel","originalKind","originalType","title","url","opensInNewTab","id","newKind","newType","normalizedTitle","replace","normalizedURL","escapeTitle","isBuiltInType","indexOf","isCustomLink","encodeURI","undefined","Number","isInteger","navStripHTML","html","doc","document","implementation","createHTMLDocument","body","innerHTML","textContent","LinkControlTransforms","block","transforms","length","map","item","index","clientId","icon","NavigationLinkEdit","attributes","isSelected","insertBlocksAfter","mergeBlocks","onReplace","context","description","rel","makeHeading","megaMenu","overlayMenu","saveEntityRecord","replaceBlock","__unstableMarkNextChangeAsNotPersistent","isLinkOpen","setIsLinkOpen","listItemRef","itemLabelPlaceholder","ref","innerBlocks","isAtMaxNesting","isTopLevelLink","isParentOfSelectedBlock","hasDescendants","userCanCreatePages","userCanCreatePosts","thisBlock","blockTransforms","select","getBlock","getBlocks","getBlockName","getBlockRootClientId","getClientIdsOfDescendants","hasSelectedInnerBlock","getSelectedBlockClientId","getBlockParentsByBlockName","getBlockTransformItems","selectedBlockId","descendants","isImmediateParentOfSelectedBlock","selectedBlockHasDescendants","canUser","transformToSubmenu","newSubmenu","featuredBlocks","featuredTransforms","filter","includes","test","selectLabelText","focus","defaultView","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","removeLink","userCanCreate","handleCreate","pageTitle","postType","page","status","rendered","onKeyDown","primary","keyCode","blockProps","className","style","onClick","classes","missingText","check","descriptionValue","titleValue","relValue","labelValue","searchTerm","format","mark","category","categoryIcon","pageIcon","postTitle","postIcon","tag","tagIcon","fallbackVariations","isDefault","forEach","variation","isActive","variationAttributes","customPostType","getIcon","variationName","enhanceNavigationLinkVariations","settings","variations","_x","customLink","InnerBlocks","addFilter","registerBlockType","metadata","edit","save","__experimentalLabel","merge","leftAttributes","rightLabel","example","deprecated","isEligible","nofollow","default","migrate","rest","from","blocks","transform","to","showLabel","buttonUseIcon","buttonPosition"],"sourceRoot":""}